const a28_0x318d71=a28_0x3560;function a28_0x1205(){const _0x59d1d7=['IZnHO','kube-system','Deleted\x20Turboscale\x20Agent','vpHbE','1740067dGKUSO','jzpZX','2|5|3|6|4|1|7|0','FQIZK','pWgom','iFzYN','Adding\x20clusterrolebinding','avfBW','Added\x20default\x20service\x20account','clusterissuer.yaml','default-service-account.yaml','LhdCs','Added\x20Autoscaler\x20Components','cluster-role-binding.yaml','scaleDownHubDeployment','hubVersion','1193484pHwpKR','sa.yaml','DWSrb','name','sCkmt','Adding\x20Cert\x20Manager\x20CRDs','yATUA','deleteNamespace','spec','RwcMS','readNamespace','6|3|4|1|5|0|2','browser-node-cluster-role.yaml','NWeSF','Adding\x20browser-node\x20service\x20account','sNpTX','Scaled\x20up\x20deployment','FuSeO','FpcCJ','UbSec','<ClusterName>','HkBRe','eTHHh','createClusterRole','dwpBF','browserstack','Adding\x20MetricsServer\x20Deployment','items','nLDHY','OkwEI','LtRLA','namespaceExists','bNEWI','dbwKS','removeGridComponents','mQzms','rbSBV','EfmKY','ingress-nginx-controller','service-account.yaml','Adding\x20Autoscaler\x20Deployment','Adding\x20Ingress','qhbva','message','17|9|3|18|13|1|11|12|8|0|10|7|16|5|6|4|14|15|2','browserVersion','./utilityMethods','Removing\x20grid\x20components','Adding\x20Autoscaler\x20namespacedRole','Adding\x20MetricsServer\x20clusterRoleBinding','Added\x20Cert\x20Manager\x20CRDs','addMetricServerComponents','qsvkG','getNamespaceUID','UAoDn','Adding\x20Autoscaler\x20namespacedRoleBinding','rDAqu','azure.workload.identity/client-id','objgX','SGItL','teiUc','oScWE','addGridComponents','EycYH','createNamespacedServiceAccount','WPCSd','deleteClusterAndDependencies','./deleteStack','rCYDA','Deleting\x20','WNsZT','eXNaq','uYCsJ','Added\x20Turboscale\x20Agent','ukhVR','TfZHh','CrIeR','Adding\x20default\x20service\x20account','Added\x20Nginx\x20Private\x20Pods\x20and\x20deployments','JLuYZ','sOqEB','replicas','join','KOMWS','Adding\x20browser-node-role-binding\x20role\x20binding','NNYxZ','JNPqK','Waiting\x20for\x20Cert\x20Manager\x20Deployments','Adding\x20Autoscaler\x20clusterRoleBinding','vHvvz','networking.gke.io/load-balancer-type:\x20\x22Internal\x22','vpc-cni-cm.yaml','createNamespacedRole','Adding\x20Cert\x20Issuer','wzvQg','VzcgF','xaocp','hOAHn','metricsServerServiceExists','Deleted\x20cluster\x20and\x20linked\x20resources\x20successfully','templates','WQnRE','readNamespacedDeployment','Adding\x20MetricsServer\x20Service','Jpddo','Added\x20MetricsServer\x20Components','Removed\x20grid\x20components','clusterrole.yaml','RmMqI','ingress.yaml','loadAll','code','cluster-role-aggregated-reader.yaml','KnwWl','pxiSP','kzrsk','ntQie','nABMK','namespace','ILFLb','WpgDX','agQXK','1652283sIDraY','CldSe','Added\x20browser-node-role\x20cluster\x20role','deleteAgent','nNIJc','EeKfV','DAgWq','Adding\x20VPC\x20CNI\x20CM','DCCuM','labels','Adding\x20Autoscaler\x20Components','VzIOE','\x20&\x20','createClusterRoleBinding','elPrZ','role.yaml','Adding\x20MetricsServer\x20namespacedRoleBinding','gBbQl','ScFiQ','uJusT','YkPMJ','Deleting\x20clusterrolebinding','replaceNamespacedServiceAccount','createNamespacedDeployment','sSVfy','10szYYWu','8mOEuNi','clusterRegion','zKzQQ','RmYJZ','420SgHfxB','default','eks.amazonaws.com/role-arn','cRxlN','../config/logger','UDITz','Adding\x20hubservice','LAeRb','clusterName','cluster-role-binding-auth-delegator.yaml','cloudProvider','sXvvl','101447BvMlnx','hbtRL','XDrOJ','IGhtk','IYIgl','FisMU','YGOen','listNamespacedService','pJgOu','aAweE','length','template','gWkFs','Uvyxf','Adding\x20MetricsServer\x20Components','ZfKhp','xkvXP','Scaled\x20down\x20deployment','LaIIZ','nginx','Uznyk','browser-node-service-account.yaml','Deleting\x20cert-manager','zKZwE','ohhoH','Added\x20Nginx\x20Pods\x20and\x20deployments','service.yaml','browser-node-cluster-role-binding.yaml','Adding\x20Turboscale\x20Agent','DuypT','HFiyB','wKZca','Added\x20Nginx\x20Roles\x20and\x20Service\x20Accounts','zPGhc','replaceNamespacedDeployment','dZyrw','gxUPT','../config/constants','Added\x20Cert\x20Manager','Adding\x20Nginx\x20Roles\x20and\x20Service\x20Accounts','bstackAccesskey','Adding\x20Nginx\x20Private\x20Pods\x20and\x20Services','JARHr','AzyhX','true','metadata','UlToi','sMGov','dgYoQ','\x20cloudformation\x20stacks\x20from\x20region\x20','bstackUsername','ZDrzm','Adding\x20Autoscaler\x20Service\x20Account','XnGWU','KPElA','Adding\x20MetricsServer\x20clusterRole\x20for\x20aggregated\x20reader','Adding\x20MetricsServer\x20API\x20Service','EeBIP','split','13lORmxb','Added\x20Cert\x20Issuer','rTIwK','tPIVa','utPao','IGeFO','oyWZS','uid','role-binding.yaml','ClgJl','lslIj','gridProfileId','NRZHe','jYJvS','RaQWV','VtLur','LXCaT','4310AzTtdy','wpFbc','1925660HHfjbR','body','JksEE','9|0|1|6|5|4|8|2|7|3','rWmaG','Adding\x20MetricsServer\x20clusterRole','Added\x20browser-node-role-binding\x20role\x20binding','cert-manager-cainjector','false','utf-8','SvHXt','zCnSC','addAutoScalerComponents','service.beta.kubernetes.io/azure-load-balancer-internal:\x20\x22true\x22','createNamespacedRoleBinding','Auddn','LLtnu','statusCode','NmaIu','znwGi','kKJcJ','Gqwxo','TWPoB','eIxNN','ingress-nginx','bTktu','cluster-role.yaml','cNcNa','isPrivateGrid','Deleted\x20ingress-nginx','private-ingress-nginx-controller','path','debug','Adding\x20Autoscaler\x20clusterRole','xhpEV','kZDvD','scaleUpHubDeployment','service.beta.kubernetes.io/aws-load-balancer-internal:\x20\x22true\x22','GcGZq','Added\x20browser-node\x20service\x20account','ejkVH','clientId','GcURG','vxfFz','LvgXF','metrics-server','load','fKUXN','pods-and-services.yaml','replace','aFYgP','readFileAsync','annotations','jEtjJ','IRAOF','OqEFy','HGcSM','autoscaler','ApGzT','jylKX','owazf','Added\x20hubdeployment','pVmda','RCgmZ','info','pMmVf','jVHnH','scGgN','CRSye','GOULi','cert-manager-webhook','TGDMZ','vQXqU','Adding\x20hubdeployment','6BkWPEH','sLmCK','lnRVQ','BrzfN','190292pVKTSS','CdVav','15URtSQX','hub-deployment.yaml','DvuiV','createNamespacedService','lQWiI','zeHmf','wyIsu'];a28_0x1205=function(){return _0x59d1d7;};return a28_0x1205();}function a28_0x3560(_0x2ae526,_0x3f2585){const _0x1205dc=a28_0x1205();return a28_0x3560=function(_0x356024,_0x59e3a1){_0x356024=_0x356024-0x116;let _0x1bd932=_0x1205dc[_0x356024];return _0x1bd932;},a28_0x3560(_0x2ae526,_0x3f2585);}(function(_0x31386e,_0x30c5c9){const _0x10095d=a28_0x3560,_0x2dfc3c=_0x31386e();while(!![]){try{const _0x19ef61=-parseInt(_0x10095d(0x14a))/0x1*(-parseInt(_0x10095d(0x1e2))/0x2)+-parseInt(_0x10095d(0x1e8))/0x3*(parseInt(_0x10095d(0x1e6))/0x4)+-parseInt(_0x10095d(0x196))/0x5*(parseInt(_0x10095d(0x13e))/0x6)+-parseInt(_0x10095d(0x1f3))/0x7*(-parseInt(_0x10095d(0x13a))/0x8)+parseInt(_0x10095d(0x120))/0x9*(parseInt(_0x10095d(0x139))/0xa)+-parseInt(_0x10095d(0x198))/0xb+-parseInt(_0x10095d(0x203))/0xc*(parseInt(_0x10095d(0x185))/0xd);if(_0x19ef61===_0x30c5c9)break;else _0x2dfc3c['push'](_0x2dfc3c['shift']());}catch(_0x97fd14){_0x2dfc3c['push'](_0x2dfc3c['shift']());}}}(a28_0x1205,0x27fcb));const fs=require('fs'),yaml=require('js-yaml'),path=require(a28_0x318d71(0x1b7)),{v4:uuidv4}=require('uuid'),{logger}=require(a28_0x318d71(0x142)),{AG_API_URL,global_registry,CLUSTER_DEP_STACK_NAME,CLUSTER_AUTOSCALER_STACK_NAME,AZURE,GCP,TURBOSCALE_DEPLOYMENT}=require(a28_0x318d71(0x16f)),{deleteClusterStack}=require(a28_0x318d71(0x246)),{kubeApply,waitForDeployment}=require(a28_0x318d71(0x231)),{delay}=require('../utils/webSocketUtils'),applyTemplate=async(_0x31b3f4,_0x123f78,_0x4a78df={})=>{const _0x36be6e=a28_0x318d71,_0x1be61f={};_0x1be61f['xmGfj']='networking.gke.io/load-balancer-type:\x20\x22Internal\x22',_0x1be61f[_0x36be6e(0x210)]=function(_0x12ab1a,_0x2647d3){return _0x12ab1a===_0x2647d3;},_0x1be61f[_0x36be6e(0x1d7)]=_0x36be6e(0x1c5),_0x1be61f[_0x36be6e(0x1e3)]=_0x36be6e(0x267),_0x1be61f[_0x36be6e(0x209)]=_0x36be6e(0x1a1),_0x1be61f[_0x36be6e(0x242)]=_0x36be6e(0x176),_0x1be61f[_0x36be6e(0x1cd)]=_0x36be6e(0x1a0),_0x1be61f[_0x36be6e(0x1ad)]=function(_0x2f3b19,_0x1018f2){return _0x2f3b19!=_0x1018f2;},_0x1be61f['sNpTX']=function(_0x560e85,_0x3ec4ef){return _0x560e85!==_0x3ec4ef;},_0x1be61f[_0x36be6e(0x1af)]=function(_0x4c20da,_0x15d836){return _0x4c20da===_0x15d836;},_0x1be61f[_0x36be6e(0x20c)]=_0x36be6e(0x1d4),_0x1be61f[_0x36be6e(0x13d)]=function(_0x4eedb0,_0x25c2d1){return _0x4eedb0!==_0x25c2d1;},_0x1be61f[_0x36be6e(0x1ed)]='DGcRi',_0x1be61f['HkBRe']=_0x36be6e(0x1c1),_0x1be61f[_0x36be6e(0x21b)]='VQNmm',_0x1be61f['jVHnH']=_0x36be6e(0x1e9),_0x1be61f[_0x36be6e(0x24b)]=function(_0x36dec7,_0x4f8eb9){return _0x36dec7===_0x4f8eb9;},_0x1be61f[_0x36be6e(0x220)]=_0x36be6e(0x153),_0x1be61f[_0x36be6e(0x1fe)]='BljxM';const _0x32b0c3=_0x1be61f;let _0x42e621=await fs[_0x36be6e(0x1cb)](path[_0x36be6e(0x255)](__dirname,'..',_0x32b0c3['sLmCK'],_0x31b3f4),_0x32b0c3[_0x36be6e(0x209)]);_0x42e621=_0x42e621[_0x36be6e(0x1c9)](/<GridNamespace>/g,_0x123f78),_0x42e621=_0x42e621[_0x36be6e(0x1c9)](/<BstackURL>/g,AG_API_URL),_0x42e621=_0x42e621[_0x36be6e(0x1c9)](/<ClusterName>/g,global_registry[_0x36be6e(0x146)]),_0x42e621=_0x42e621['replace'](/<BstackUsername>/g,global_registry[_0x36be6e(0x17c)]),_0x42e621=_0x42e621[_0x36be6e(0x1c9)](/<BstackAccessKey>/g,global_registry['bstackAccesskey']),_0x42e621=_0x42e621[_0x36be6e(0x1c9)](/<GridName>/g,global_registry['gridName']),_0x42e621=_0x42e621[_0x36be6e(0x1c9)](/<Region>/g,global_registry[_0x36be6e(0x13b)]),_0x42e621=_0x42e621[_0x36be6e(0x1c9)](/<CloudProvider>/g,global_registry[_0x36be6e(0x148)]),_0x42e621=_0x42e621[_0x36be6e(0x1c9)](/<HubImageVersion>/g,global_registry[_0x36be6e(0x202)]),_0x42e621=_0x42e621['replace'](/<BrowserImageVersion>/g,global_registry[_0x36be6e(0x230)]),_0x42e621=_0x42e621[_0x36be6e(0x1c9)](/<PrivateGrid>/g,global_registry[_0x36be6e(0x1b4)]?_0x32b0c3[_0x36be6e(0x242)]:_0x32b0c3[_0x36be6e(0x1cd)]);if(_0x32b0c3[_0x36be6e(0x1ad)](global_registry[_0x36be6e(0x190)],null)&&_0x32b0c3[_0x36be6e(0x212)](global_registry[_0x36be6e(0x190)],undefined))_0x32b0c3[_0x36be6e(0x1af)](_0x32b0c3['RwcMS'],_0x32b0c3['RwcMS'])?_0x42e621=_0x42e621[_0x36be6e(0x1c9)](/<GridProfileID>/g,global_registry['gridProfileId']):_0x4714f5=_0x32b0c3['xmGfj'];else{if(_0x32b0c3[_0x36be6e(0x13d)](_0x32b0c3[_0x36be6e(0x1ed)],_0x32b0c3['zeHmf']))return![];else _0x42e621=_0x42e621['replace'](/<GridProfileID>/g,'');}const _0x36edc0=yaml[_0x36be6e(0x1c6)](_0x42e621);if(_0x32b0c3[_0x36be6e(0x1af)](global_registry[_0x36be6e(0x148)],AZURE)&&_0x32b0c3['sNpTX'](_0x4a78df[_0x32b0c3[_0x36be6e(0x218)]],undefined)){if(_0x32b0c3['NWeSF'](_0x32b0c3[_0x36be6e(0x21b)],_0x32b0c3[_0x36be6e(0x21b)])){const _0x544f4a={};_0x544f4a[_0x36be6e(0x23c)]=''+_0x4a78df[_0x36be6e(0x1c1)],_0x36edc0[_0x36be6e(0x177)]={'annotations':_0x544f4a,..._0x36edc0[_0x36be6e(0x177)]};}else{const _0x16eb55={};_0x16eb55['azure.workload.identity/client-id']=''+_0xcb11f8[_0x36be6e(0x1c1)];const _0x1fb9f7={'annotations':_0x16eb55,..._0x30d679[_0x36be6e(0x177)]};_0x42bc3c['metadata']=_0x1fb9f7;}}if(_0x32b0c3['eIxNN'](global_registry[_0x36be6e(0x148)],AZURE)&&_0x32b0c3['eIxNN'](_0x31b3f4,_0x32b0c3[_0x36be6e(0x1da)])){if(_0x32b0c3[_0x36be6e(0x24b)](_0x32b0c3[_0x36be6e(0x220)],_0x32b0c3[_0x36be6e(0x1fe)])){if(_0x32b0c3[_0x36be6e(0x210)](_0x3afd39[_0x3a7967][_0x36be6e(0x177)][_0x36be6e(0x206)],_0x32b0c3['RCgmZ']))return!![];}else _0x36edc0[_0x36be6e(0x20b)][_0x36be6e(0x155)][_0x36be6e(0x177)]['labels']={'azure.workload.identity/use':_0x32b0c3[_0x36be6e(0x242)],..._0x36edc0[_0x36be6e(0x20b)][_0x36be6e(0x155)]['metadata']['labels']};}return _0x36edc0;};exports[a28_0x318d71(0x1a4)]=async(_0x4c19d6,_0x28bbda,_0x4bcc17,_0x4c2f82,_0x2900c5,_0x1119ae,_0x4e65d7)=>{const _0x929333=a28_0x318d71,_0x182ce2={};_0x182ce2[_0x929333(0x192)]=_0x929333(0x17e),_0x182ce2[_0x929333(0x262)]=_0x929333(0x267),_0x182ce2[_0x929333(0x1c4)]=_0x929333(0x1d1),_0x182ce2[_0x929333(0x239)]=_0x929333(0x204),_0x182ce2[_0x929333(0x26b)]=_0x929333(0x1a1),_0x182ce2[_0x929333(0x1f8)]=_0x929333(0x140),_0x182ce2[_0x929333(0x132)]=_0x929333(0x1f0),_0x182ce2['qhbva']=_0x929333(0x1b9),_0x182ce2[_0x929333(0x14b)]=_0x929333(0x26e),_0x182ce2[_0x929333(0x1a2)]=_0x929333(0x233),_0x182ce2[_0x929333(0x1cf)]=_0x929333(0x12f),_0x182ce2[_0x929333(0x133)]=_0x929333(0x25b),_0x182ce2['tLneR']=_0x929333(0x200),_0x182ce2[_0x929333(0x1db)]=_0x929333(0x23a),_0x182ce2[_0x929333(0x11f)]=_0x929333(0x18d),_0x182ce2['SUQTp']=_0x929333(0x22b),_0x182ce2[_0x929333(0x15e)]='deployment.yaml',_0x182ce2[_0x929333(0x205)]=_0x929333(0x217);const _0x3f49e9=_0x182ce2;let _0x44846b=null,_0xebd169=null;logger[_0x929333(0x1d8)](_0x3f49e9['jYJvS']),_0xebd169=await fs[_0x929333(0x1cb)](path[_0x929333(0x255)](__dirname,'..',_0x3f49e9[_0x929333(0x262)],_0x3f49e9[_0x929333(0x1c4)],_0x3f49e9[_0x929333(0x239)]),_0x3f49e9[_0x929333(0x26b)]),_0x44846b=yaml[_0x929333(0x1c6)](_0xebd169),_0x44846b[_0x929333(0x177)][_0x929333(0x1cc)][_0x3f49e9[_0x929333(0x1f8)]]=_0x4e65d7;const _0x38723c={};_0x38723c['namespace']=_0x3f49e9['ScFiQ'],_0x38723c[_0x929333(0x199)]=_0x44846b,await _0x4c19d6[_0x929333(0x243)](_0x38723c),logger['info'](_0x3f49e9[_0x929333(0x22d)]),_0xebd169=await fs[_0x929333(0x1cb)](path[_0x929333(0x255)](__dirname,'..',_0x3f49e9[_0x929333(0x262)],_0x3f49e9[_0x929333(0x1c4)],_0x3f49e9['hbtRL']),_0x3f49e9[_0x929333(0x26b)]),_0x44846b=yaml[_0x929333(0x1c6)](_0xebd169);const _0x28c85d={};_0x28c85d[_0x929333(0x199)]=_0x44846b,await _0x4c2f82[_0x929333(0x21a)](_0x28c85d),logger[_0x929333(0x1d8)](_0x3f49e9[_0x929333(0x1a2)]),_0xebd169=await fs[_0x929333(0x1cb)](path[_0x929333(0x255)](__dirname,'..',_0x3f49e9[_0x929333(0x262)],_0x3f49e9[_0x929333(0x1c4)],_0x3f49e9[_0x929333(0x1cf)]),_0x3f49e9['Jpddo']),_0x44846b=yaml['load'](_0xebd169);const _0x5c21f4={};_0x5c21f4['namespace']=_0x3f49e9['ScFiQ'],_0x5c21f4[_0x929333(0x199)]=_0x44846b,await _0x4c2f82[_0x929333(0x25f)](_0x5c21f4),logger[_0x929333(0x1d8)](_0x3f49e9[_0x929333(0x133)]),_0xebd169=await fs['readFileAsync'](path[_0x929333(0x255)](__dirname,'..',_0x3f49e9[_0x929333(0x262)],_0x3f49e9['LvgXF'],_0x3f49e9['tLneR']),_0x3f49e9['Jpddo']),_0x44846b=yaml[_0x929333(0x1c6)](_0xebd169);const _0x58f5f8={};_0x58f5f8['body']=_0x44846b,await _0x4c2f82['createClusterRoleBinding'](_0x58f5f8),logger[_0x929333(0x1d8)](_0x3f49e9[_0x929333(0x1db)]),_0xebd169=await fs[_0x929333(0x1cb)](path['join'](__dirname,'..',_0x3f49e9[_0x929333(0x262)],_0x3f49e9[_0x929333(0x1c4)],_0x3f49e9[_0x929333(0x11f)]),_0x3f49e9[_0x929333(0x26b)]),_0x44846b=yaml[_0x929333(0x1c6)](_0xebd169);const _0x5a9a94={};_0x5a9a94[_0x929333(0x11c)]=_0x3f49e9[_0x929333(0x132)],_0x5a9a94[_0x929333(0x199)]=_0x44846b,await _0x4c2f82[_0x929333(0x1a6)](_0x5a9a94),logger['info'](_0x3f49e9['SUQTp']),_0xebd169=await fs['readFileAsync'](path['join'](__dirname,'..',_0x3f49e9['VzcgF'],_0x3f49e9['LvgXF'],_0x3f49e9['Uznyk']),_0x3f49e9[_0x929333(0x26b)]),_0xebd169=_0xebd169[_0x929333(0x1c9)](_0x3f49e9['DWSrb'],_0x1119ae),_0x44846b=yaml['load'](_0xebd169);const _0x4b4ee4={};_0x4b4ee4['namespace']=_0x3f49e9['ScFiQ'],_0x4b4ee4[_0x929333(0x199)]=_0x44846b,await _0x28bbda[_0x929333(0x137)](_0x4b4ee4);},exports[a28_0x318d71(0x236)]=async(_0x4799d8,_0xe4f4bc,_0x1fe031,_0x265938)=>{const _0x25bd9e=a28_0x318d71,_0x32ddeb={};_0x32ddeb['LaIIZ']='Adding\x20MetricsServer\x20Service\x20Account',_0x32ddeb[_0x25bd9e(0x1e4)]='templates',_0x32ddeb[_0x25bd9e(0x1d9)]='metrics-server',_0x32ddeb[_0x25bd9e(0x121)]=_0x25bd9e(0x22a),_0x32ddeb[_0x25bd9e(0x18a)]='utf-8',_0x32ddeb['ApGzT']='kube-system',_0x32ddeb[_0x25bd9e(0x219)]=_0x25bd9e(0x181),_0x32ddeb[_0x25bd9e(0x156)]=_0x25bd9e(0x116),_0x32ddeb[_0x25bd9e(0x150)]=_0x25bd9e(0x19d),_0x32ddeb[_0x25bd9e(0x161)]=_0x25bd9e(0x1b2),_0x32ddeb[_0x25bd9e(0x1e7)]=_0x25bd9e(0x130),_0x32ddeb[_0x25bd9e(0x19c)]='role-binding.yaml',_0x32ddeb[_0x25bd9e(0x12e)]=_0x25bd9e(0x234),_0x32ddeb['HKnKX']=_0x25bd9e(0x147),_0x32ddeb[_0x25bd9e(0x1e0)]='cluster-role-binding.yaml',_0x32ddeb[_0x25bd9e(0x207)]=_0x25bd9e(0x26a),_0x32ddeb[_0x25bd9e(0x227)]=_0x25bd9e(0x164),_0x32ddeb['utPao']=_0x25bd9e(0x21d),_0x32ddeb[_0x25bd9e(0x1b3)]='deployment.yaml',_0x32ddeb[_0x25bd9e(0x1fa)]=_0x25bd9e(0x182),_0x32ddeb[_0x25bd9e(0x14f)]='api-service.yaml';const _0x15f263=_0x32ddeb;logger['info'](_0x15f263[_0x25bd9e(0x15c)]);let _0x204cf5=await fs[_0x25bd9e(0x1cb)](path['join'](__dirname,'..',_0x15f263[_0x25bd9e(0x1e4)],_0x15f263['pMmVf'],_0x15f263[_0x25bd9e(0x121)]),_0x15f263[_0x25bd9e(0x18a)]),_0x3d68c8=yaml['load'](_0x204cf5);const _0x5c5f52={};_0x5c5f52[_0x25bd9e(0x11c)]=_0x15f263[_0x25bd9e(0x1d2)],_0x5c5f52[_0x25bd9e(0x199)]=_0x3d68c8,await _0x4799d8[_0x25bd9e(0x243)](_0x5c5f52),logger['info'](_0x15f263[_0x25bd9e(0x219)]),_0x204cf5=await fs[_0x25bd9e(0x1cb)](path['join'](__dirname,'..',_0x15f263['lnRVQ'],_0x15f263[_0x25bd9e(0x1d9)],_0x15f263[_0x25bd9e(0x156)]),_0x15f263[_0x25bd9e(0x18a)]),_0x3d68c8=yaml['load'](_0x204cf5);const _0x50c213={};_0x50c213[_0x25bd9e(0x199)]=_0x3d68c8,await _0x1fe031[_0x25bd9e(0x21a)](_0x50c213),logger[_0x25bd9e(0x1d8)](_0x15f263['YGOen']),_0x204cf5=await fs[_0x25bd9e(0x1cb)](path['join'](__dirname,'..',_0x15f263[_0x25bd9e(0x1e4)],_0x15f263[_0x25bd9e(0x1d9)],_0x15f263[_0x25bd9e(0x161)]),_0x15f263[_0x25bd9e(0x18a)]),_0x3d68c8=yaml[_0x25bd9e(0x1c6)](_0x204cf5);const _0x1baa53={};_0x1baa53[_0x25bd9e(0x199)]=_0x3d68c8,await _0x1fe031[_0x25bd9e(0x21a)](_0x1baa53),logger[_0x25bd9e(0x1d8)](_0x15f263[_0x25bd9e(0x1e7)]),_0x204cf5=await fs[_0x25bd9e(0x1cb)](path[_0x25bd9e(0x255)](__dirname,'..',_0x15f263[_0x25bd9e(0x1e4)],_0x15f263[_0x25bd9e(0x1d9)],_0x15f263[_0x25bd9e(0x19c)]),_0x15f263[_0x25bd9e(0x18a)]),_0x3d68c8=yaml[_0x25bd9e(0x1c6)](_0x204cf5);const _0x37545f={};_0x37545f[_0x25bd9e(0x11c)]=_0x15f263[_0x25bd9e(0x1d2)],_0x37545f[_0x25bd9e(0x199)]=_0x3d68c8,await _0x1fe031[_0x25bd9e(0x1a6)](_0x37545f),logger[_0x25bd9e(0x1d8)](_0x15f263['elPrZ']),_0x204cf5=await fs[_0x25bd9e(0x1cb)](path[_0x25bd9e(0x255)](__dirname,'..',_0x15f263[_0x25bd9e(0x1e4)],_0x15f263[_0x25bd9e(0x1d9)],_0x15f263['HKnKX']),_0x15f263[_0x25bd9e(0x18a)]),_0x3d68c8=yaml[_0x25bd9e(0x1c6)](_0x204cf5);const _0x16aea8={};_0x16aea8[_0x25bd9e(0x199)]=_0x3d68c8,await _0x1fe031[_0x25bd9e(0x12d)](_0x16aea8),logger[_0x25bd9e(0x1d8)](_0x15f263['elPrZ']),_0x204cf5=await fs[_0x25bd9e(0x1cb)](path[_0x25bd9e(0x255)](__dirname,'..',_0x15f263['lnRVQ'],_0x15f263[_0x25bd9e(0x1d9)],_0x15f263['vQXqU']),_0x15f263['IGeFO']),_0x3d68c8=yaml[_0x25bd9e(0x1c6)](_0x204cf5);const _0x2e2bf0={};_0x2e2bf0[_0x25bd9e(0x199)]=_0x3d68c8,await _0x1fe031[_0x25bd9e(0x12d)](_0x2e2bf0),logger[_0x25bd9e(0x1d8)](_0x15f263[_0x25bd9e(0x207)]),_0x204cf5=await fs[_0x25bd9e(0x1cb)](path[_0x25bd9e(0x255)](__dirname,'..',_0x15f263['lnRVQ'],_0x15f263['pMmVf'],_0x15f263[_0x25bd9e(0x227)]),_0x15f263['IGeFO']),_0x3d68c8=yaml[_0x25bd9e(0x1c6)](_0x204cf5);const _0x565a49={};_0x565a49[_0x25bd9e(0x11c)]=_0x15f263[_0x25bd9e(0x1d2)],_0x565a49['body']=_0x3d68c8,await _0x4799d8['createNamespacedService'](_0x565a49),logger[_0x25bd9e(0x1d8)](_0x15f263[_0x25bd9e(0x189)]),_0x204cf5=await fs['readFileAsync'](path[_0x25bd9e(0x255)](__dirname,'..',_0x15f263[_0x25bd9e(0x1e4)],_0x15f263[_0x25bd9e(0x1d9)],_0x15f263['cNcNa']),_0x15f263['IGeFO']),_0x3d68c8=yaml[_0x25bd9e(0x1c6)](_0x204cf5);const _0x2f554b={};_0x2f554b['namespace']=_0x15f263[_0x25bd9e(0x1d2)],_0x2f554b[_0x25bd9e(0x199)]=_0x3d68c8,await _0xe4f4bc[_0x25bd9e(0x137)](_0x2f554b),logger[_0x25bd9e(0x1d8)](_0x15f263['avfBW']),_0x204cf5=await fs[_0x25bd9e(0x1cb)](path[_0x25bd9e(0x255)](__dirname,'..',_0x15f263['lnRVQ'],_0x15f263[_0x25bd9e(0x1d9)],_0x15f263[_0x25bd9e(0x14f)]),_0x15f263[_0x25bd9e(0x18a)]),_0x3d68c8=yaml['load'](_0x204cf5);const _0x2869e6={};_0x2869e6[_0x25bd9e(0x199)]=_0x3d68c8,await _0x265938['createAPIService'](_0x2869e6);},exports['metricsServerServiceExists']=async _0x49e443=>{const _0x1fbe6b=a28_0x318d71,_0x1a9093={};_0x1a9093[_0x1fbe6b(0x1a8)]='123456',_0x1a9093['JARHr']=_0x1fbe6b(0x176),_0x1a9093[_0x1fbe6b(0x195)]=_0x1fbe6b(0x1f0),_0x1a9093[_0x1fbe6b(0x16b)]=function(_0x561cd0,_0x2fd449){return _0x561cd0<_0x2fd449;},_0x1a9093[_0x1fbe6b(0x1c2)]=function(_0x40f71a,_0x1ee69d){return _0x40f71a===_0x1ee69d;},_0x1a9093[_0x1fbe6b(0x263)]=_0x1fbe6b(0x125),_0x1a9093[_0x1fbe6b(0x23b)]='metrics-server',_0x1a9093[_0x1fbe6b(0x264)]=_0x1fbe6b(0x12b);const _0x484b03=_0x1a9093,_0xc33cde={};_0xc33cde[_0x1fbe6b(0x11c)]=_0x484b03[_0x1fbe6b(0x195)];const _0x1642a4=await _0x49e443[_0x1fbe6b(0x151)](_0xc33cde),_0x568f65=_0x1642a4?.[_0x1fbe6b(0x21e)];for(let _0x52b895=0x0;_0x484b03[_0x1fbe6b(0x16b)](_0x52b895,_0x568f65[_0x1fbe6b(0x154)]);_0x52b895++){if(_0x484b03['GcURG'](_0x484b03[_0x1fbe6b(0x263)],_0x484b03[_0x1fbe6b(0x263)])){if(_0x484b03[_0x1fbe6b(0x1c2)](_0x568f65[_0x52b895][_0x1fbe6b(0x177)]['name'],_0x484b03[_0x1fbe6b(0x23b)]))return _0x484b03[_0x1fbe6b(0x1c2)](_0x484b03['hOAHn'],_0x484b03['hOAHn'])?!![]:_0x484b03[_0x1fbe6b(0x1a8)];}else{const _0x453176={'azure.workload.identity/use':_0x484b03[_0x1fbe6b(0x174)],..._0x95cfd6['spec'][_0x1fbe6b(0x155)][_0x1fbe6b(0x177)][_0x1fbe6b(0x129)]};_0x353f37[_0x1fbe6b(0x20b)]['template'][_0x1fbe6b(0x177)][_0x1fbe6b(0x129)]=_0x453176;}}return![];},exports[a28_0x318d71(0x222)]=async(_0x106b03,_0x3858b9)=>{const _0x18e722=a28_0x318d71,_0x3dfc81={};_0x3dfc81[_0x18e722(0x1dc)]=function(_0x4cf0b4,_0x2171bb){return _0x4cf0b4===_0x2171bb;},_0x3dfc81[_0x18e722(0x159)]=function(_0xafcfb2,_0x1290fb){return _0xafcfb2!==_0x1290fb;},_0x3dfc81[_0x18e722(0x1c3)]=_0x18e722(0x1df),_0x3dfc81['UlToi']='RurBE';const _0x4291e6=_0x3dfc81;try{if(_0x4291e6[_0x18e722(0x159)](_0x4291e6[_0x18e722(0x1c3)],_0x4291e6[_0x18e722(0x1c3)])){if(_0x4291e6[_0x18e722(0x1dc)](_0x5c2f5c[_0x18e722(0x1a9)],0x199)||_0x4291e6[_0x18e722(0x1dc)](_0x240848[_0x18e722(0x272)],0x199))_0x52a2f6[_0x18e722(0x1b8)](_0x3e6ace[_0x18e722(0x22e)]);else throw _0x1c5760;}else{const _0x269c84={};_0x269c84['name']=_0x3858b9;const _0x1d6e23=await _0x106b03[_0x18e722(0x20d)](_0x269c84);return!![];}}catch(_0x1cad4f){return _0x4291e6[_0x18e722(0x1dc)](_0x4291e6[_0x18e722(0x178)],_0x4291e6[_0x18e722(0x178)])?![]:!![];}},exports[a28_0x318d71(0x238)]=async(_0x50559a,_0x12a0ab)=>{const _0x118cf8=a28_0x318d71,_0x298609={};_0x298609[_0x118cf8(0x1f7)]=function(_0x2a2ed5,_0x4d6a0e){return _0x2a2ed5!==_0x4d6a0e;},_0x298609[_0x118cf8(0x24d)]=_0x118cf8(0x187),_0x298609['GOULi']=_0x118cf8(0x268),_0x298609[_0x118cf8(0x23e)]='123456';const _0x289413=_0x298609;try{if(_0x289413[_0x118cf8(0x1f7)](_0x289413[_0x118cf8(0x24d)],_0x289413[_0x118cf8(0x24d)]))_0x3e649c=_0x3a157c[_0x118cf8(0x1c9)](/<GridProfileID>/g,_0x488a92[_0x118cf8(0x190)]);else{const _0x59bacc={};_0x59bacc[_0x118cf8(0x206)]=_0x12a0ab;const _0xd54f8=await _0x50559a[_0x118cf8(0x20d)](_0x59bacc),_0x222be7=_0xd54f8?.[_0x118cf8(0x177)]?.[_0x118cf8(0x18c)];return _0x222be7;}}catch(_0x418e7c){if(_0x289413[_0x118cf8(0x1f7)](_0x289413[_0x118cf8(0x1dd)],_0x289413[_0x118cf8(0x1dd)]))throw _0x302857;else return _0x289413[_0x118cf8(0x23e)];}},exports[a28_0x318d71(0x241)]=async(_0x361b0c,_0x26d360,_0x1a7989,_0x514382,_0x2aedce,_0x2bb267,_0x3d833d,_0x486845,_0x13c0f1,_0x40643f={},_0x5214d1)=>{const _0x36d50c=a28_0x318d71,_0x33eaaa={'nLDHY':_0x36d50c(0x1a5),'lslIj':_0x36d50c(0x1bd),'Vainr':_0x36d50c(0x1f9),'GUUdS':function(_0x241ed2,_0x213ca1,_0x38d4e9){return _0x241ed2(_0x213ca1,_0x38d4e9);},'ntQie':'cluster-role-binding.yaml','Khvse':'Added\x20clusterrolebinding','aFYgP':function(_0xfc4b7e,_0x160414){return _0xfc4b7e!=_0x160414;},'DCCuM':function(_0x512270,_0x18b885){return _0x512270!==_0x18b885;},'mQzms':_0x36d50c(0x11b),'IRAOF':_0x36d50c(0x12a),'TfZHh':_0x36d50c(0x1ff),'UbSec':_0x36d50c(0x152),'KnwWl':_0x36d50c(0x158),'RmMqI':_0x36d50c(0x26c),'DuypT':function(_0x9fe3bf,_0x2f8eba){return _0x9fe3bf!==_0x2f8eba;},'qsvkG':_0x36d50c(0x221),'XDrOJ':_0x36d50c(0x211),'BrzfN':function(_0xf5f31e,_0x50bff1,_0x1059a3,_0x23a837){return _0xf5f31e(_0x50bff1,_0x1059a3,_0x23a837);},'oyWZS':_0x36d50c(0x15f),'dgYoQ':_0x36d50c(0x1bf),'dZyrw':function(_0xcc7649,_0xc7f5ee){return _0xcc7649===_0xc7f5ee;},'KOMWS':function(_0x1beea1,_0x588357){return _0x1beea1!==_0x588357;},'pxiSP':_0x36d50c(0x259),'zCnSC':_0x36d50c(0x194),'NmaIu':_0x36d50c(0x250),'LBSIa':function(_0xc44d2c,_0x13836d,_0x4c8fb8,_0x1ab6f3){return _0xc44d2c(_0x13836d,_0x4c8fb8,_0x1ab6f3);},'ZWhhX':_0x36d50c(0x1fd),'YkPMJ':_0x36d50c(0x13f),'dIKuL':_0x36d50c(0x1fb),'AzyhX':'Adding\x20browser-node-role\x20cluster\x20role','NNYxZ':function(_0x15c97a,_0x458b88,_0x56988b){return _0x15c97a(_0x458b88,_0x56988b);},'sMGov':_0x36d50c(0x20f),'objgX':_0x36d50c(0x122),'wKZca':_0x36d50c(0x257),'kZDvD':_0x36d50c(0x165),'sXvvl':_0x36d50c(0x19e),'UDITz':function(_0x12658d,_0x1a7a24){return _0x12658d===_0x1a7a24;},'KPElA':function(_0x73eed7,_0x97ef41){return _0x73eed7===_0x97ef41;},'IYIgl':'ingress-nginx','ClgJl':_0x36d50c(0x19b),'ILFLb':_0x36d50c(0x267),'EeBIP':_0x36d50c(0x15d),'WERyT':'helper.yaml','GcGZq':_0x36d50c(0x1a1),'ejkVH':_0x36d50c(0x163),'sSVfy':'Adding\x20Nginx\x20Pods\x20and\x20deployments','WPCSd':_0x36d50c(0x16a),'LAeRb':function(_0x2790f9,_0x3d9a00,_0x3cb680){return _0x2790f9(_0x3d9a00,_0x3cb680);},'nNIJc':_0x36d50c(0x1c8),'eXNaq':_0x36d50c(0x171),'qDxLZ':_0x36d50c(0x173),'dbwKS':_0x36d50c(0x25d),'sOqEB':'private-pods-and-services.yaml','PFUBQ':function(_0x4341a2,_0x153dea,_0x521ae5){return _0x4341a2(_0x153dea,_0x521ae5);},'tPIVa':_0x36d50c(0x251),'RaQWV':'3|1|2|4|0','zKzQQ':'Added\x20VPC\x20CNI\x20ConfigMaps','aLlYk':_0x36d50c(0x25e),'pVmda':_0x36d50c(0x127),'CrIeR':'cert-manager','Uvyxf':_0x36d50c(0x22f),'TMXnW':_0x36d50c(0x170),'wyIsu':'Adding\x20Cert\x20Manager','HFiyB':_0x36d50c(0x186),'lQWiI':_0x36d50c(0x1fc),'xkvXP':function(_0x3f1ea5,_0x1ec4bc,_0x593acf,_0x21db2e,_0x2ed8f7){return _0x3f1ea5(_0x1ec4bc,_0x593acf,_0x21db2e,_0x2ed8f7);},'ndIci':_0x36d50c(0x260),'bNEWI':function(_0x5417b6,_0xb010c7,_0x16cfc4,_0x3636e6,_0xb00a00){return _0x5417b6(_0xb010c7,_0x16cfc4,_0x3636e6,_0xb00a00);},'bTktu':_0x36d50c(0x19f),'WNsZT':'crds.yaml','ZDrzm':_0x36d50c(0x25a),'gxUPT':'cert-manager.yaml','vHvvz':_0x36d50c(0x235),'FpcCJ':function(_0x670013,_0x427d57,_0x46a71a){return _0x670013(_0x427d57,_0x46a71a);},'fNEau':function(_0x4c86a6,_0x167b81,_0x53dbfa,_0x5e2c4b,_0x2d2d0d){return _0x4c86a6(_0x167b81,_0x53dbfa,_0x5e2c4b,_0x2d2d0d);},'FQIZK':_0x36d50c(0x1de),'fnDVi':_0x36d50c(0x208),'ZbWwc':_0x36d50c(0x21c),'Auddn':_0x36d50c(0x1f5),'UzwgD':_0x36d50c(0x24c),'cRxlN':_0x36d50c(0x166),'YZBDS':'turboscale-agent.yaml','BhTzU':_0x36d50c(0x144),'JksEE':'hub-service.yaml','EtrmH':'Added\x20hubservice','KIrgb':_0x36d50c(0x1e1),'DvuiV':_0x36d50c(0x1e9),'wpFbc':_0x36d50c(0x1d5),'xhpEV':_0x36d50c(0x22c),'ohhoH':function(_0x4355f4,_0x598a53,_0x15acbf,_0x5071b3,_0x53e3df){return _0x4355f4(_0x598a53,_0x15acbf,_0x5071b3,_0x53e3df);},'fwxwF':_0x36d50c(0x229),'rCYDA':function(_0x110e9a,_0xe68ef8,_0x588e97,_0x2d8a98,_0x55ab1d){return _0x110e9a(_0xe68ef8,_0x588e97,_0x2d8a98,_0x55ab1d);},'wzvQg':_0x36d50c(0x1b6),'fKUXN':_0x36d50c(0x270),'YcAtj':'nginx-private','XnGWU':function(_0x48e447,_0x59db3a,_0x4b10d2){return _0x48e447(_0x59db3a,_0x4b10d2);},'IZnHO':'Added\x20Ingress','npmdE':function(_0x21184d,_0x2dc08f){return _0x21184d(_0x2dc08f);}};let _0x54a7d3=null,_0x54af84=null;logger[_0x36d50c(0x1d8)](_0x33eaaa['Vainr']),_0x54a7d3=await _0x33eaaa['GUUdS'](applyTemplate,_0x33eaaa[_0x36d50c(0x11a)],_0x2aedce);const _0x40f8ea={};_0x40f8ea[_0x36d50c(0x199)]=_0x54a7d3,await _0x514382[_0x36d50c(0x12d)](_0x40f8ea),logger['info'](_0x33eaaa['Khvse']);_0x33eaaa[_0x36d50c(0x1ca)](_0x3d833d,null)&&_0x33eaaa[_0x36d50c(0x128)](_0x3d833d,undefined)&&(_0x33eaaa[_0x36d50c(0x128)](_0x33eaaa[_0x36d50c(0x226)],_0x33eaaa['mQzms'])?_0x252dda[_0x36d50c(0x1b8)](_0x189ebc[_0x36d50c(0x22e)]):(logger[_0x36d50c(0x1d8)](_0x33eaaa[_0x36d50c(0x1ce)]),await this[_0x36d50c(0x1a4)](_0x361b0c,_0x26d360,_0x1a7989,_0x514382,_0x2aedce,_0x2bb267,_0x3d833d),logger['info'](_0x33eaaa[_0x36d50c(0x24e)])));const _0x41959d=await this[_0x36d50c(0x265)](_0x361b0c);!_0x41959d&&(_0x33eaaa[_0x36d50c(0x128)](_0x33eaaa[_0x36d50c(0x216)],_0x33eaaa[_0x36d50c(0x216)])?_0x42e75d=_0x39f0f8['replace'](/<GridProfileID>/g,''):(logger[_0x36d50c(0x1d8)](_0x33eaaa[_0x36d50c(0x117)]),await this[_0x36d50c(0x236)](_0x361b0c,_0x26d360,_0x514382,_0x486845),logger[_0x36d50c(0x1d8)](_0x33eaaa[_0x36d50c(0x26f)])));try{if(_0x33eaaa[_0x36d50c(0x167)](_0x33eaaa[_0x36d50c(0x237)],_0x33eaaa[_0x36d50c(0x237)]))_0x520828=_0x33eaaa[_0x36d50c(0x21f)];else{logger[_0x36d50c(0x1d8)](_0x33eaaa[_0x36d50c(0x14c)]),_0x54a7d3=await _0x33eaaa[_0x36d50c(0x1e5)](applyTemplate,_0x33eaaa[_0x36d50c(0x18b)],_0x2aedce,_0x40643f);const _0x514052={};_0x514052[_0x36d50c(0x11c)]=_0x2aedce,_0x514052['body']=_0x54a7d3,await _0x361b0c[_0x36d50c(0x243)](_0x514052),logger[_0x36d50c(0x1d8)](_0x33eaaa[_0x36d50c(0x17a)]);if(_0x33eaaa[_0x36d50c(0x16d)](global_registry[_0x36d50c(0x148)],AZURE)){if(_0x33eaaa[_0x36d50c(0x256)](_0x33eaaa[_0x36d50c(0x118)],_0x33eaaa[_0x36d50c(0x1a3)])){logger[_0x36d50c(0x1d8)](_0x33eaaa[_0x36d50c(0x1aa)]),_0x54a7d3=await _0x33eaaa['LBSIa'](applyTemplate,_0x33eaaa['ZWhhX'],_0x2aedce,_0x40643f);const _0x1c842f={};_0x1c842f[_0x36d50c(0x206)]=_0x33eaaa[_0x36d50c(0x134)],_0x1c842f[_0x36d50c(0x11c)]=_0x2aedce,_0x1c842f['body']=_0x54a7d3,await _0x361b0c[_0x36d50c(0x136)](_0x1c842f),logger[_0x36d50c(0x1d8)](_0x33eaaa['dIKuL']);}else _0x4c88c0=_0x33eaaa[_0x36d50c(0x18f)];}logger['info'](_0x33eaaa[_0x36d50c(0x175)]),_0x54a7d3=await _0x33eaaa[_0x36d50c(0x258)](applyTemplate,_0x33eaaa[_0x36d50c(0x179)],_0x2aedce);const _0x25f25b={};_0x25f25b[_0x36d50c(0x199)]=_0x54a7d3,await _0x514382[_0x36d50c(0x21a)](_0x25f25b),logger['info'](_0x33eaaa[_0x36d50c(0x23d)]),logger[_0x36d50c(0x1d8)](_0x33eaaa[_0x36d50c(0x169)]),_0x54a7d3=await _0x33eaaa[_0x36d50c(0x258)](applyTemplate,_0x33eaaa[_0x36d50c(0x1bb)],_0x2aedce);const _0xccc3e1={};_0xccc3e1[_0x36d50c(0x199)]=_0x54a7d3,await _0x514382[_0x36d50c(0x12d)](_0xccc3e1),logger['info'](_0x33eaaa[_0x36d50c(0x149)]);}}catch(_0x21b38d){if(_0x33eaaa[_0x36d50c(0x143)](_0x21b38d[_0x36d50c(0x1a9)],0x199)||_0x33eaaa[_0x36d50c(0x180)](_0x21b38d['code'],0x199))logger['debug'](_0x21b38d['message']);else throw _0x21b38d;}const _0xc54df7=await this[_0x36d50c(0x222)](_0x361b0c,_0x33eaaa[_0x36d50c(0x14e)]);if(!_0xc54df7){const _0x332b1d=_0x33eaaa[_0x36d50c(0x18e)][_0x36d50c(0x184)]('|');let _0x20f6c5=0x0;while(!![]){switch(_0x332b1d[_0x20f6c5++]){case'0':_0x54af84=await fs[_0x36d50c(0x1cb)](path[_0x36d50c(0x255)](__dirname,'..',_0x33eaaa['ILFLb'],_0x33eaaa[_0x36d50c(0x183)],_0x33eaaa['WERyT']),_0x33eaaa[_0x36d50c(0x1be)]);continue;case'1':_0x54a7d3=yaml[_0x36d50c(0x271)](_0x54af84);continue;case'2':_0x54a7d3=yaml[_0x36d50c(0x271)](_0x54af84);continue;case'3':logger[_0x36d50c(0x1d8)](_0x33eaaa[_0x36d50c(0x1c0)]);continue;case'4':logger[_0x36d50c(0x1d8)](_0x33eaaa[_0x36d50c(0x138)]);continue;case'5':logger[_0x36d50c(0x1d8)](_0x33eaaa[_0x36d50c(0x244)]);continue;case'6':await _0x33eaaa['LAeRb'](kubeApply,_0x54a7d3,_0x13c0f1);continue;case'7':await _0x33eaaa[_0x36d50c(0x145)](kubeApply,_0x54a7d3,_0x13c0f1);continue;case'8':_0x54af84=await fs[_0x36d50c(0x1cb)](path[_0x36d50c(0x255)](__dirname,'..',_0x33eaaa[_0x36d50c(0x11d)],_0x33eaaa['EeBIP'],_0x33eaaa[_0x36d50c(0x124)]),_0x33eaaa['GcGZq']);continue;case'9':logger[_0x36d50c(0x1d8)](_0x33eaaa[_0x36d50c(0x24a)]);continue;}break;}}if(global_registry['isPrivateGrid']){logger[_0x36d50c(0x1d8)](_0x33eaaa['qDxLZ']);let _0x5c5553;if(_0x33eaaa[_0x36d50c(0x180)](global_registry[_0x36d50c(0x148)],AZURE))_0x5c5553=_0x33eaaa[_0x36d50c(0x21f)];else _0x33eaaa[_0x36d50c(0x16d)](global_registry[_0x36d50c(0x148)],GCP)?_0x5c5553=_0x33eaaa[_0x36d50c(0x224)]:_0x5c5553=_0x33eaaa['lslIj'];_0x54af84=await fs[_0x36d50c(0x1cb)](path[_0x36d50c(0x255)](__dirname,'..',_0x33eaaa[_0x36d50c(0x11d)],_0x33eaaa['EeBIP'],_0x33eaaa[_0x36d50c(0x253)]),_0x33eaaa[_0x36d50c(0x1be)]),_0x54af84=_0x54af84[_0x36d50c(0x1c9)](/<InternalLoadBalancerAnnotations>/g,_0x5c5553),_0x54a7d3=yaml[_0x36d50c(0x271)](_0x54af84),await _0x33eaaa['PFUBQ'](kubeApply,_0x54a7d3,_0x13c0f1),logger['info'](_0x33eaaa[_0x36d50c(0x188)]);}if(global_registry['isNewAWSCluster']){const _0x29fa5d=_0x33eaaa[_0x36d50c(0x193)][_0x36d50c(0x184)]('|');let _0x3e2b90=0x0;while(!![]){switch(_0x29fa5d[_0x3e2b90++]){case'0':logger[_0x36d50c(0x1d8)](_0x33eaaa[_0x36d50c(0x13c)]);continue;case'1':_0x54af84=await fs['readFileAsync'](path[_0x36d50c(0x255)](__dirname,'..',_0x33eaaa[_0x36d50c(0x11d)],_0x33eaaa['aLlYk']),_0x33eaaa[_0x36d50c(0x1be)]);continue;case'2':_0x54a7d3=yaml['loadAll'](_0x54af84);continue;case'3':logger[_0x36d50c(0x1d8)](_0x33eaaa[_0x36d50c(0x1d6)]);continue;case'4':await _0x33eaaa['LAeRb'](kubeApply,_0x54a7d3,_0x13c0f1);continue;}break;}}const _0x34d714=await this['namespaceExists'](_0x361b0c,_0x33eaaa[_0x36d50c(0x24f)]);if(!_0x34d714){const _0x13877b=_0x33eaaa[_0x36d50c(0x157)][_0x36d50c(0x184)]('|');let _0x2c2ee6=0x0;while(!![]){switch(_0x13877b[_0x2c2ee6++]){case'0':logger['info'](_0x33eaaa['TMXnW']);continue;case'1':logger[_0x36d50c(0x1d8)](_0x33eaaa[_0x36d50c(0x1ee)]);continue;case'2':logger[_0x36d50c(0x1d8)](_0x33eaaa[_0x36d50c(0x168)]);continue;case'3':_0x54a7d3=yaml['loadAll'](_0x54af84);continue;case'4':_0x54af84=await fs[_0x36d50c(0x1cb)](path[_0x36d50c(0x255)](__dirname,'..',_0x33eaaa[_0x36d50c(0x11d)],_0x33eaaa[_0x36d50c(0x24f)],_0x33eaaa[_0x36d50c(0x1ec)]),_0x33eaaa[_0x36d50c(0x1be)]);continue;case'5':await _0x33eaaa[_0x36d50c(0x15a)](waitForDeployment,_0x26d360,_0x33eaaa['CrIeR'],_0x33eaaa[_0x36d50c(0x24f)],0x7530);continue;case'6':logger[_0x36d50c(0x1d8)](_0x33eaaa['ndIci']);continue;case'7':await _0x33eaaa[_0x36d50c(0x223)](waitForDeployment,_0x26d360,_0x33eaaa['CrIeR'],_0x33eaaa[_0x36d50c(0x1b1)],0x7530);continue;case'8':await _0x33eaaa[_0x36d50c(0x258)](kubeApply,_0x54a7d3,_0x13c0f1);continue;case'9':_0x54af84=await fs['readFileAsync'](path[_0x36d50c(0x255)](__dirname,'..',_0x33eaaa['ILFLb'],_0x33eaaa[_0x36d50c(0x24f)],_0x33eaaa[_0x36d50c(0x249)]),_0x33eaaa[_0x36d50c(0x1be)]);continue;case'10':logger[_0x36d50c(0x1d8)](_0x33eaaa[_0x36d50c(0x17d)]);continue;case'11':_0x54af84=await fs[_0x36d50c(0x1cb)](path[_0x36d50c(0x255)](__dirname,'..',_0x33eaaa['ILFLb'],_0x33eaaa[_0x36d50c(0x24f)],_0x33eaaa[_0x36d50c(0x16e)]),_0x33eaaa[_0x36d50c(0x1be)]);continue;case'12':_0x54a7d3=yaml['loadAll'](_0x54af84);continue;case'13':logger[_0x36d50c(0x1d8)](_0x33eaaa[_0x36d50c(0x25c)]);continue;case'14':_0x54a7d3=yaml[_0x36d50c(0x271)](_0x54af84);continue;case'15':await _0x33eaaa['FpcCJ'](kubeApply,_0x54a7d3,_0x13c0f1);continue;case'16':await _0x33eaaa['fNEau'](waitForDeployment,_0x26d360,_0x33eaaa[_0x36d50c(0x24f)],_0x33eaaa[_0x36d50c(0x1f6)],0x7530);continue;case'17':logger['info'](_0x33eaaa['fnDVi']);continue;case'18':await _0x33eaaa[_0x36d50c(0x145)](kubeApply,_0x54a7d3,_0x13c0f1);continue;}break;}}const _0x119f17=await this[_0x36d50c(0x222)](_0x361b0c,_0x33eaaa['ZbWwc']);if(!_0x119f17){const _0x9966de=_0x33eaaa[_0x36d50c(0x1a7)][_0x36d50c(0x184)]('|');let _0x5efa25=0x0;while(!![]){switch(_0x9966de[_0x5efa25++]){case'0':logger[_0x36d50c(0x1d8)](_0x33eaaa['UzwgD']);continue;case'1':_0x54a7d3=yaml[_0x36d50c(0x271)](_0x54af84);continue;case'2':logger['info'](_0x33eaaa[_0x36d50c(0x141)]);continue;case'3':_0x54af84=_0x54af84[_0x36d50c(0x1c9)](/<BstackUsername>/g,global_registry[_0x36d50c(0x17c)]);continue;case'4':_0x54af84=_0x54af84[_0x36d50c(0x1c9)](/<BstackURL>/g,AG_API_URL);continue;case'5':_0x54af84=await fs['readFileAsync'](path[_0x36d50c(0x255)](__dirname,'..',_0x33eaaa[_0x36d50c(0x11d)],_0x33eaaa['YZBDS']),_0x33eaaa[_0x36d50c(0x1be)]);continue;case'6':_0x54af84=_0x54af84[_0x36d50c(0x1c9)](/<BstackAccessKey>/g,global_registry[_0x36d50c(0x172)]);continue;case'7':await _0x33eaaa[_0x36d50c(0x258)](kubeApply,_0x54a7d3,_0x13c0f1);continue;}break;}}logger[_0x36d50c(0x1d8)](_0x33eaaa['BhTzU']),_0x54a7d3=await _0x33eaaa[_0x36d50c(0x215)](applyTemplate,_0x33eaaa[_0x36d50c(0x19a)],_0x2aedce);const _0x40eb40={};_0x40eb40['namespace']=_0x2aedce,_0x40eb40[_0x36d50c(0x199)]=_0x54a7d3,await _0x361b0c[_0x36d50c(0x1eb)](_0x40eb40),logger['info'](_0x33eaaa['EtrmH']),logger[_0x36d50c(0x1d8)](_0x33eaaa['KIrgb']),_0x54a7d3=await _0x33eaaa['LAeRb'](applyTemplate,_0x33eaaa[_0x36d50c(0x1ea)],_0x2aedce);const _0x5d6a73={};_0x5d6a73[_0x36d50c(0x11c)]=_0x2aedce,_0x5d6a73[_0x36d50c(0x199)]=_0x54a7d3,await _0x26d360['createNamespacedDeployment'](_0x5d6a73),logger[_0x36d50c(0x1d8)](_0x33eaaa[_0x36d50c(0x197)]),logger['info'](_0x33eaaa[_0x36d50c(0x1ba)]),await _0x33eaaa[_0x36d50c(0x162)](waitForDeployment,_0x26d360,_0x33eaaa[_0x36d50c(0x14e)],_0x33eaaa['fwxwF'],0xea60);global_registry[_0x36d50c(0x1b4)]&&await _0x33eaaa[_0x36d50c(0x247)](waitForDeployment,_0x26d360,_0x33eaaa[_0x36d50c(0x14e)],_0x33eaaa[_0x36d50c(0x261)],0xea60);_0x54af84=await fs['readFileAsync'](path[_0x36d50c(0x255)](__dirname,'..',_0x33eaaa[_0x36d50c(0x11d)],_0x33eaaa[_0x36d50c(0x1c7)]),_0x33eaaa['GcGZq']);const _0x1b9b6e=global_registry['isPrivateGrid']?_0x33eaaa['YcAtj']:_0x33eaaa[_0x36d50c(0x183)];_0x54af84=_0x54af84['replace'](/<GridNamespace>/g,_0x2aedce),_0x54af84=_0x54af84['replace'](/<NginxIngressClass>/g,_0x1b9b6e),_0x54a7d3=yaml[_0x36d50c(0x271)](_0x54af84),await _0x33eaaa[_0x36d50c(0x17f)](kubeApply,_0x54a7d3,_0x13c0f1),logger[_0x36d50c(0x1d8)](_0x33eaaa[_0x36d50c(0x1ef)]),await _0x33eaaa['npmdE'](delay,0x1388);},exports[a28_0x318d71(0x225)]=async(_0x3ed54f,_0x398b4b,_0xe7c39a,_0x8e8e12,_0x42a0fb)=>{const _0x2be1e9=a28_0x318d71,_0x3dd0e4={'EfmKY':_0x2be1e9(0x20e),'jzpZX':function(_0x2f15de,_0xd8b3c0){return _0x2f15de(_0xd8b3c0);},'vpHbE':'Deleted\x20clusterrolebinding','FuSeO':_0x2be1e9(0x26d),'IGhtk':_0x2be1e9(0x135),'NRZHe':_0x2be1e9(0x232)},_0x50a4f8=_0x3dd0e4[_0x2be1e9(0x228)]['split']('|');let _0x2d127c=0x0;while(!![]){switch(_0x50a4f8[_0x2d127c++]){case'0':const _0x353bef={};_0x353bef[_0x2be1e9(0x206)]='deployer-srvacct-binding-'+_0x42a0fb,await _0x8e8e12['deleteClusterRoleBinding'](_0x353bef);continue;case'1':await _0x3dd0e4[_0x2be1e9(0x1f4)](delay,0x2710);continue;case'2':logger[_0x2be1e9(0x1d8)](_0x3dd0e4[_0x2be1e9(0x1f2)]);continue;case'3':const _0x4093d4={};_0x4093d4[_0x2be1e9(0x206)]=_0x42a0fb,await _0x3ed54f[_0x2be1e9(0x20a)](_0x4093d4);continue;case'4':logger[_0x2be1e9(0x1d8)](_0x3dd0e4[_0x2be1e9(0x214)]);continue;case'5':logger[_0x2be1e9(0x1d8)](_0x3dd0e4[_0x2be1e9(0x14d)]);continue;case'6':logger[_0x2be1e9(0x1d8)](_0x3dd0e4[_0x2be1e9(0x191)]);continue;}break;}},exports[a28_0x318d71(0x123)]=async _0x1ed846=>{const _0x5b8740=a28_0x318d71,_0xfe0a5c={};_0xfe0a5c[_0x5b8740(0x1ab)]=_0x5b8740(0x21c),_0xfe0a5c[_0x5b8740(0x126)]='Deleting\x20Turboscale\x20Agent',_0xfe0a5c[_0x5b8740(0x252)]=_0x5b8740(0x1f1);const _0x21497a=_0xfe0a5c,_0xf89e95=await this['namespaceExists'](_0x1ed846,_0x21497a[_0x5b8740(0x1ab)]);if(_0xf89e95){logger['info'](_0x21497a[_0x5b8740(0x126)]);const _0x335564={};_0x335564['name']=_0x21497a['znwGi'],await _0x1ed846[_0x5b8740(0x20a)](_0x335564),logger[_0x5b8740(0x1d8)](_0x21497a[_0x5b8740(0x252)]);}},exports['deleteRoutingDeps']=async _0x501aeb=>{const _0x3f5a42=a28_0x318d71,_0x12d826={'oScWE':_0x3f5a42(0x1b0),'QzKnc':'Deleting\x20ingress-nginx','fNyPH':_0x3f5a42(0x1b5),'HGcSM':function(_0x5ccfcd,_0x287203){return _0x5ccfcd(_0x287203);},'PAMFX':'cert-manager','oZkwE':_0x3f5a42(0x160),'TWPoB':'Deleted\x20cert-manager'},_0x2d5015=await this[_0x3f5a42(0x222)](_0x501aeb,_0x12d826[_0x3f5a42(0x240)]);if(_0x2d5015){logger[_0x3f5a42(0x1d8)](_0x12d826['QzKnc']);const _0x118d00={};_0x118d00[_0x3f5a42(0x206)]=_0x12d826[_0x3f5a42(0x240)],await _0x501aeb[_0x3f5a42(0x20a)](_0x118d00),logger[_0x3f5a42(0x1d8)](_0x12d826['fNyPH']);}await _0x12d826['HGcSM'](delay,0x124f8);const _0x23d9b8=await this[_0x3f5a42(0x222)](_0x501aeb,_0x12d826['PAMFX']);if(_0x23d9b8){logger['info'](_0x12d826['oZkwE']);const _0x5a7d76={};_0x5a7d76[_0x3f5a42(0x206)]=_0x12d826['PAMFX'],await _0x501aeb[_0x3f5a42(0x20a)](_0x5a7d76),logger['info'](_0x12d826[_0x3f5a42(0x1ae)]);}await _0x12d826[_0x3f5a42(0x1d0)](delay,0xafc8);},exports[a28_0x318d71(0x245)]=async(_0x4b05f8,_0x2c69dc)=>{const _0x6263e0=a28_0x318d71,_0x4b9427={'teiUc':function(_0x536829,_0x54e4ad){return _0x536829(_0x54e4ad);},'kKJcJ':_0x6263e0(0x266)};logger[_0x6263e0(0x1d8)](_0x6263e0(0x248)+CLUSTER_DEP_STACK_NAME+'-'+_0x2c69dc+_0x6263e0(0x12c)+CLUSTER_AUTOSCALER_STACK_NAME+'-'+_0x2c69dc+_0x6263e0(0x17b)+_0x4b05f8),await Promise['all']([_0x4b9427['teiUc'](deleteClusterStack,CLUSTER_DEP_STACK_NAME+'-'+_0x2c69dc),_0x4b9427[_0x6263e0(0x23f)](deleteClusterStack,CLUSTER_AUTOSCALER_STACK_NAME+'-'+_0x2c69dc)]),logger[_0x6263e0(0x1d8)](_0x4b9427[_0x6263e0(0x1ac)]);},exports[a28_0x318d71(0x1bc)]=async(_0x4ba913,_0x46213f)=>{const _0x3906a9=a28_0x318d71,_0x16e5e6={};_0x16e5e6[_0x3906a9(0x119)]='Scaling\x20up\x20deployment',_0x16e5e6['gBbQl']=_0x3906a9(0x213);const _0xdef87d=_0x16e5e6;logger[_0x3906a9(0x1d8)](_0xdef87d[_0x3906a9(0x119)]);const _0x4b48f3={};_0x4b48f3[_0x3906a9(0x206)]=TURBOSCALE_DEPLOYMENT,_0x4b48f3['namespace']=_0x46213f;const _0x1a804a=await _0x4ba913['readNamespacedDeployment'](_0x4b48f3);_0x1a804a[_0x3906a9(0x20b)][_0x3906a9(0x254)]=0x1;const _0x417926={};_0x417926[_0x3906a9(0x206)]=TURBOSCALE_DEPLOYMENT,_0x417926[_0x3906a9(0x11c)]=_0x46213f,_0x417926[_0x3906a9(0x199)]=_0x1a804a,await _0x4ba913[_0x3906a9(0x16c)](_0x417926),logger[_0x3906a9(0x1d8)](_0xdef87d[_0x3906a9(0x131)]);},exports[a28_0x318d71(0x201)]=async(_0x22516e,_0x1185cb)=>{const _0x26036f=a28_0x318d71,_0x472833={};_0x472833['jylKX']='Scaling\x20down\x20deployment',_0x472833[_0x26036f(0x11e)]=_0x26036f(0x15b);const _0x5581c8=_0x472833;logger[_0x26036f(0x1d8)](_0x5581c8[_0x26036f(0x1d3)]);const _0x5d60c2={};_0x5d60c2[_0x26036f(0x206)]=TURBOSCALE_DEPLOYMENT,_0x5d60c2['namespace']=_0x1185cb;const _0x3143ae=await _0x22516e[_0x26036f(0x269)](_0x5d60c2);_0x3143ae['spec'][_0x26036f(0x254)]=0x0;const _0x3319ca={};_0x3319ca[_0x26036f(0x206)]=TURBOSCALE_DEPLOYMENT,_0x3319ca[_0x26036f(0x11c)]=_0x1185cb,_0x3319ca['body']=_0x3143ae,await _0x22516e['replaceNamespacedDeployment'](_0x3319ca),logger[_0x26036f(0x1d8)](_0x5581c8[_0x26036f(0x11e)]);};