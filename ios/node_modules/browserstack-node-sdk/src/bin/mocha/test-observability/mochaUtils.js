const a31_0x44ef00=a31_0x5504;(function(_0x28207b,_0x328b6e){const _0x5ee0d6=a31_0x5504,_0x3c0944=_0x28207b();while(!![]){try{const _0x1f24b5=parseInt(_0x5ee0d6(0x1c8))/0x1+parseInt(_0x5ee0d6(0x1ad))/0x2+parseInt(_0x5ee0d6(0x1b4))/0x3*(parseInt(_0x5ee0d6(0x1bd))/0x4)+-parseInt(_0x5ee0d6(0x1d0))/0x5*(parseInt(_0x5ee0d6(0x1ab))/0x6)+-parseInt(_0x5ee0d6(0x1de))/0x7+-parseInt(_0x5ee0d6(0x1c5))/0x8+parseInt(_0x5ee0d6(0x1ba))/0x9*(parseInt(_0x5ee0d6(0x1e4))/0xa);if(_0x1f24b5===_0x328b6e)break;else _0x3c0944['push'](_0x3c0944['shift']());}catch(_0x4bb980){_0x3c0944['push'](_0x3c0944['shift']());}}}(a31_0x1c8f,0xcba40));function a31_0x5504(_0x47a715,_0x35e5e4){const _0x1c8f28=a31_0x1c8f();return a31_0x5504=function(_0x55041e,_0x538ecd){_0x55041e=_0x55041e-0x19d;let _0x34e2b0=_0x1c8f28[_0x55041e];return _0x34e2b0;},a31_0x5504(_0x47a715,_0x35e5e4);}function a31_0x1c8f(){const _0x3beedb=['721945HsqsAF','_beforeEach','ppSaR','stANp','bs:addPlatformDetails:','passed','state','markedStatus','hook:','EGSLB','_afterAll','getBrowserName','pid','doGJM','6686330mufqog','getHookDetails','ucVbj','Exception\x20in\x20populating\x20platform\x20details\x20with\x20error\x20:\x20','emit','RwGJQ','1898100qqISMu','getBrowserVersion','indexOf','nFQTw','getHookSkippedTests','map_','_beforeAll','reduce','../../../helpers/test-observability/constants','push','unknown_grid','sendPlatformDetails','concat','hookAnalyticsId','fromEntries','tests','toISOString','svchV','__cloud_provider___','pending','getCapabilities','ivLoo','forEach','36ngmjby','WZpTW','2015104CWbIfZ','_afterEach','../../../../package.json','wrwBP','../../../helpers/testhub/utils','slice','toJSON','2361633CNiIQg','Awnqp','getPlatform','gvMlx','qBXWm','browserstack','45WBanle','nyzxO','split','8fVtilZ','cCckl','lodash','js-','VTjYo','getHooksForTest','uJyVb','inVUx','12615304mQHqfL','MBwfk','string','701525XwCOFz','ioEOy','substring','getSession','caesA','parent','failed','../../../helpers/test-observability/utils'];a31_0x1c8f=function(){return _0x3beedb;};return a31_0x1c8f();}const {v4:uuidv4}=require('uuid'),{name,version}=require(a31_0x44ef00(0x1af)),logPatcher=require('../../utils/logPatcher'),BSTestOpsPatcher=new logPatcher({}),{debug,isInternalHook,getObservabilityLinkedProductName}=require(a31_0x44ef00(0x1cf)),{consoleHolder}=require(a31_0x44ef00(0x1ec)),{getPlatformVersion}=require('../../../helpers/helper'),{shouldProcessEventForTesthub}=require(a31_0x44ef00(0x1b1)),{isFunction}=require(a31_0x44ef00(0x1bf)),{patchConsoleLogger}=require(a31_0x44ef00(0x1cf));patchConsoleLogger(),exports['getTestEnv']=()=>{const _0x6b20a1=a31_0x44ef00,_0x4623fa={'hQctG':'generic','RwGJQ':function(_0x5dd2f7){return _0x5dd2f7();}};return{'ci':_0x4623fa['hQctG'],'key':_0x4623fa[_0x6b20a1(0x1e3)](uuidv4),'version':version,'collector':_0x6b20a1(0x1c0)+name};},exports[a31_0x44ef00(0x1df)]=_0x53b24f=>{const _0x3345cc=a31_0x44ef00,_0x113c03={};_0x113c03[_0x3345cc(0x1b8)]=function(_0x3d720c,_0x1fb280){return _0x3d720c!==_0x1fb280;},_0x113c03['UPVKi']=_0x3345cc(0x1c7),_0x113c03[_0x3345cc(0x1dd)]=_0x3345cc(0x1d8),_0x113c03[_0x3345cc(0x1c3)]='hook';const _0x2cbdb2=_0x113c03;if(!_0x53b24f||_0x2cbdb2[_0x3345cc(0x1b8)](typeof _0x53b24f,_0x2cbdb2['UPVKi']))return[null,null];if(_0x2cbdb2[_0x3345cc(0x1b8)](_0x53b24f[_0x3345cc(0x1e6)](_0x2cbdb2[_0x3345cc(0x1dd)]),-0x1)){const _0x133a03=_0x53b24f[_0x3345cc(0x1bc)](_0x2cbdb2['doGJM']);return[_0x133a03[0x0][_0x3345cc(0x1b2)](0x0,-0x1)[_0x3345cc(0x1bc)]('\x22')[0x1],_0x133a03[0x1][_0x3345cc(0x1ca)](0x1)];}else{if(_0x2cbdb2[_0x3345cc(0x1b8)](_0x53b24f[_0x3345cc(0x1e6)](_0x2cbdb2[_0x3345cc(0x1c3)]),-0x1)){const _0xc3e7a7=_0x53b24f[_0x3345cc(0x1bc)](_0x2cbdb2[_0x3345cc(0x1c3)]);return[_0xc3e7a7[0x0][_0x3345cc(0x1b2)](0x0,-0x1)[_0x3345cc(0x1bc)]('\x22')[0x1],_0x53b24f];}}return[null,null];},exports[a31_0x44ef00(0x1c2)]=_0x3cad18=>{const _0xc668c=a31_0x44ef00,_0x47ae55={'inVUx':function(_0x2eb847,_0x41439b){return _0x2eb847(_0x41439b);},'cCckl':_0xc668c(0x1ea),'cagvT':_0xc668c(0x1da),'nFQTw':_0xc668c(0x1d1),'tfeoH':'_afterEach'};if(!_0x3cad18||!_0x3cad18[_0xc668c(0x1cd)])return[];const _0x10b1c4=[];return[_0x47ae55[_0xc668c(0x1be)],_0x47ae55['cagvT'],_0x47ae55[_0xc668c(0x1e7)],_0x47ae55['tfeoH']]['forEach'](_0x1b541f=>{const _0x2a129b=_0xc668c,_0x522193={'EGSLB':function(_0x75bacc,_0x104e40){const _0x301e5f=a31_0x5504;return _0x47ae55[_0x301e5f(0x1c4)](_0x75bacc,_0x104e40);}},_0x217643=_0x3cad18['parent'][_0x1b541f]||[];_0x217643[_0x2a129b(0x1aa)](_0x2cdb3c=>{const _0xb26f96=_0x2a129b;_0x2cdb3c[_0xb26f96(0x1a1)]&&!_0x522193[_0xb26f96(0x1d9)](isInternalHook,_0x2cdb3c['fn'])&&_0x10b1c4[_0xb26f96(0x19d)](_0x2cdb3c[_0xb26f96(0x1a1)]);});}),[..._0x10b1c4,...exports['getHooksForTest'](_0x3cad18[_0xc668c(0x1cd)])];},exports['mapTestHooks']=_0x273886=>{const _0x447082=a31_0x44ef00,_0x1eb235={'nyzxO':function(_0x244d56){return _0x244d56();},'trOiO':function(_0x3214a6,_0x46cb9e){return _0x3214a6===_0x46cb9e;},'XsGJW':_0x447082(0x1ae),'ioEOy':function(_0x42dc6b){return _0x42dc6b();},'gvbAg':_0x447082(0x1ea),'stANp':'_afterAll','lRIXh':_0x447082(0x1d1)};if(!_0x273886||!_0x273886[_0x447082(0x1cd)])return;[_0x1eb235['gvbAg'],_0x1eb235[_0x447082(0x1d3)],_0x1eb235['lRIXh'],_0x1eb235['XsGJW']][_0x447082(0x1aa)](_0x3e246d=>{const _0x51b096=_0x447082,_0x5f1aae=_0x273886[_0x51b096(0x1cd)][_0x3e246d]||[];_0x5f1aae[_0x51b096(0x1aa)](_0x37e22f=>{const _0x22c5ae=_0x51b096;if(!_0x37e22f[_0x22c5ae(0x1a1)])_0x37e22f[_0x22c5ae(0x1a1)]=_0x1eb235[_0x22c5ae(0x1bb)](uuidv4);else _0x37e22f[_0x22c5ae(0x1d7)]&&_0x1eb235['trOiO'](_0x3e246d,_0x1eb235['XsGJW'])&&(_0x37e22f[_0x22c5ae(0x1a1)]=_0x1eb235[_0x22c5ae(0x1c9)](uuidv4),delete _0x37e22f['markedStatus']);});}),exports['mapTestHooks'](_0x273886['parent']);},exports[a31_0x44ef00(0x19f)]=async(_0x4619aa,_0x10f742)=>{const _0x1e282c=a31_0x44ef00,_0x19fbdb={'wrwBP':function(_0x563422){return _0x563422();},'ucVbj':function(_0x32c049,_0xb8e91a){return _0x32c049(_0xb8e91a);},'VTjYo':function(_0x2a6b77,_0x16a32b){return _0x2a6b77===_0x16a32b;},'MBwfk':_0x1e282c(0x1b9),'ivLoo':_0x1e282c(0x19e),'gvMlx':'TEST_PLATFORM'};try{if(!_0x19fbdb[_0x1e282c(0x1b0)](shouldProcessEventForTesthub))return;const _0x347986=await _0x4619aa['getCapabilities'](),_0x188cbb=await _0x4619aa[_0x1e282c(0x1cb)](),_0x4ee3c0={},_0x54a1fb=Object[_0x1e282c(0x1a2)](_0x188cbb[_0x1e282c(0x1a8)]()[_0x1e282c(0x1e9)]),_0x29d61d={'product':_0x19fbdb[_0x1e282c(0x1e0)](getObservabilityLinkedProductName,_0x54a1fb),'capabilities':_0x54a1fb,'platform':_0x347986[_0x1e282c(0x1b6)](),'platform_version':_0x19fbdb[_0x1e282c(0x1e0)](getPlatformVersion,_0x19fbdb[_0x1e282c(0x1c1)](global[_0x1e282c(0x1a6)],_0x19fbdb[_0x1e282c(0x1c6)])),'browser':_0x347986[_0x1e282c(0x1db)](),'browser_version':_0x347986[_0x1e282c(0x1e5)](),'session_id':_0x188cbb[_0x1e282c(0x1b3)]()};global[_0x1e282c(0x1a6)]?_0x4ee3c0[global[_0x1e282c(0x1a6)]]=_0x29d61d:_0x4ee3c0[_0x19fbdb[_0x1e282c(0x1a9)]]=_0x29d61d,process[_0x1e282c(0x1e2)](_0x1e282c(0x1d4)+process[_0x1e282c(0x1dc)],{'timestamp':new Date()[_0x1e282c(0x1a4)](),'level':null,'message':null,'kind':_0x19fbdb[_0x1e282c(0x1b7)],'http_response':_0x4ee3c0,'uuid':_0x10f742});}catch(_0x2142d3){_0x19fbdb[_0x1e282c(0x1e0)](debug,_0x1e282c(0x1e1)+_0x2142d3);}},exports[a31_0x44ef00(0x1e8)]=_0x199845=>{const _0x3a6d39=a31_0x44ef00,_0x25e32c={};_0x25e32c[_0x3a6d39(0x1d2)]=function(_0x39fa50,_0x2f8e43){return _0x39fa50!==_0x2f8e43;},_0x25e32c[_0x3a6d39(0x1ac)]='hook',_0x25e32c['ONsQF']=function(_0x1bea04,_0x225cbd){return _0x1bea04!==_0x225cbd;},_0x25e32c[_0x3a6d39(0x1a5)]=_0x3a6d39(0x1d5),_0x25e32c[_0x3a6d39(0x1cc)]=function(_0x20f40a,_0x13aa7e){return _0x20f40a!==_0x13aa7e;},_0x25e32c[_0x3a6d39(0x1b5)]=_0x3a6d39(0x1ce);const _0x4da211=_0x25e32c,_0x1db5e9=_0x199845['suites'][_0x3a6d39(0x1eb)]((_0x3ddb79,_0x5c34dc)=>{const _0x1b31d7=_0x3a6d39,_0x3edbb2=exports[_0x1b31d7(0x1e8)](_0x5c34dc);return _0x3edbb2&&(_0x3ddb79=_0x3ddb79['concat'](_0x3edbb2)),_0x3ddb79;},[]),_0x1dee66=_0x199845[_0x3a6d39(0x1a3)]['filter'](_0x293187=>{const _0x514b67=_0x3a6d39,_0x331832=_0x4da211[_0x514b67(0x1d2)](_0x293187['type'],_0x4da211[_0x514b67(0x1ac)])&&!_0x293187[_0x514b67(0x1d7)]&&_0x4da211['ONsQF'](_0x293187[_0x514b67(0x1d6)],_0x4da211[_0x514b67(0x1a5)])&&_0x4da211[_0x514b67(0x1cc)](_0x293187['state'],_0x4da211[_0x514b67(0x1b5)])&&!_0x293187[_0x514b67(0x1a7)];return _0x331832;});return _0x1dee66[_0x3a6d39(0x1a0)](_0x1db5e9);};