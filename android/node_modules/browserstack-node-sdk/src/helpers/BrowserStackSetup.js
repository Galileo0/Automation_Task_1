const a55_0x20a6af=a55_0xfd7d;(function(_0x46cef9,_0xf7189d){const _0x5b6c2e=a55_0xfd7d,_0x487f8b=_0x46cef9();while(!![]){try{const _0x5d6d0a=parseInt(_0x5b6c2e(0x16b))/0x1*(parseInt(_0x5b6c2e(0x17f))/0x2)+-parseInt(_0x5b6c2e(0x22a))/0x3+-parseInt(_0x5b6c2e(0x232))/0x4*(-parseInt(_0x5b6c2e(0x191))/0x5)+-parseInt(_0x5b6c2e(0x16d))/0x6+parseInt(_0x5b6c2e(0x1ec))/0x7*(-parseInt(_0x5b6c2e(0x1ef))/0x8)+parseInt(_0x5b6c2e(0x171))/0x9+-parseInt(_0x5b6c2e(0x247))/0xa*(-parseInt(_0x5b6c2e(0x1fc))/0xb);if(_0x5d6d0a===_0xf7189d)break;else _0x487f8b['push'](_0x487f8b['shift']());}catch(_0x1b2289){_0x487f8b['push'](_0x487f8b['shift']());}}}(a55_0x56dd,0x1f267));function a55_0x56dd(){const _0xbf9dca=['race','YWwIj','isTrue','Error\x20in\x20setting\x20up\x20tcg\x20authconfig.\x20Error:\x20','lwLWI','INVALID_INIT_RESP_WITH_USER_IMPACT','win32','stopBrowserstackLocal','TCG_AUTH_FAILURE','iUXpO','aiHeal:tcgAuth','setupBrowserstackLocal','setupPercy','MExcj','framework','WmIEk','Umqqz','OTqdB','proxyUrl','version','browserstackLocal','requireSeleniumWebdriverCheck','MRJVT','./testhub/testhubHandler','Calling\x20Build\x20Stop\x20from\x20ExitHandler','setUpHubUrl','skipBinaryInitialisation','getAccessKey','format','integrations','./percy/utils','hGsPk','setProxySettings','ebWWV','toString','util','367953iXRevP','fireFunnelTestEvent','getUserName','rUFyM','HKQRh','reUnl','setBrowserstackInfraFromConfig','useW3C','195220aqKNqO','then','proxy','status','Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20','measureWrapper','readConfig','./helper','turboScaleUrl','uuid','Error\x20occured\x20while\x20stopping\x20local\x20binary','sanitizeCaps','ats-repeater','UsFgN','bsCpS','nPbgG','localIdentifier','NyNXP','false','Error\x20in\x20percy\x20setup\x20','userName','7290jsGUCu','killSignal','IgAxR','CqEvp','JaUgM','HUB\x20URL\x20SET\x20TO\x20TurboScale\x20HUB\x20-\x20','SDKTestAttempted','QPfxP','kdBVD','./timeoutPromise','TagOv','../helpers/globals','parallelsPerPlatform\x20was\x20ignored\x20as\x20platforms\x20object\x20was\x20not\x20defined','turboScaleGridDetails','isUndefined','BROWSERSTACK_TURBOSCALE','codeceptjs','compareVersions','BROWSERSTACK_CENTRAL_USER','getLocalConfig','AFAMU','1POfxMd','vmiQO','737478UWRWBr','Few\x20SDK\x20features\x20were\x20not\x20activated\x20as\x20platforms\x20object\x20was\x20not\x20defined','stop','bstackConfig','1897281KfjsDC','custom-repeater','split','getConfigPath','cpvUG','selenium-webdriver','ipfiF','setupKeepAlive','Healing\x20is\x20not\x20enabled\x20for\x20your\x20group,\x20please\x20contact\x20the\x20admin','getHubUrl','testContextOptions','cqBQz','stopPercy','SIGHUP','195542tZQusY','zwPdm','USULA','AdORI','isHealingEnabled','handleExceptions','startLocalBinary','OVJco','stopLocalBinary','?caps=','sdkRunID','unhandledErrors','IGLMs','join','GRFDM','push','LlBxZ','TCG_DOWN','5uuHIFC','QYwOd','LoIyv','iSqRJ','checkStopLocalBinaryOnExit','SIGINT','4.5.0','Error\x20in\x20sending\x20testhub\x20stop:\x20','info','beforeExit','message','3|1|4|2|0','localOptions','HTEvv','error','tcg\x20config\x20setup\x20successful.','Local\x20binary\x20not\x20started\x20as\x20skipBinaryInitialisation\x20is\x20enabled','true','BrowserstackHealing.init','initialize','accessKey','fhvvy','ayAfw','includes','setEnvCaps','AI_INIT_SUCCESSFUL','ZanXq','setLogLevel','allocateHub','Shutdown\x20triggered\x20by\x20','init','getLocalIdentifier','cancel','debug','AUTOLOGCAPTURE_NOTIFICATION','BrowserstackHealing.init\x20method\x20timed\x20out','xMEqh','parallelsPerPlatform','Ocdpu','uncaughtException','envConfig','unhandledRejection','AI_INIT_FAILURE','OvOnr','SIGTERM','config','JXjRw','getFinalCaps','Percy\x20stopped','setupTcgConfigFile','setHandlePWError','Ivvpl','CzTdq','winstonLogger','generateLocalIdentifier','setCLICaps','percy','hubUrl','TCG_AUTH_TIMEOUT','FRAMEWORK','tcgAuthConfig','url','default','SIGABRT','startPercy','No\x20config\x20provided.','isAuthenticated','isBrowserstackInfra','AI_PROXY_FAILURE','TMZAD','uYlzl','bind','YWipr','skipSessionName','mHgXp','BrowserstackHealingInitFailed','exitHandler','isRunning','rtLzX','toLowerCase','BROWSERSTACK_PERCY','isTrialGrid','intExitHandler','IJGLO','platform','TCG_URL','env','Could\x20not\x20start\x20percy,\x20check\x20percy\x20logs\x20for\x20info.','Local\x20binary\x20stopped','cHtAh','MJPvu','553SYcYFc','KDNFV','turboScale','2168ExLzhs','OOppG','tnMNc','SIGQUIT','jdxkv','turboScaleOptions','customRepeaters','setupTCGAuth','length','Wtwmq','acMJK','20|24|25|23|35|17|41|30|33|32|21|15|22|1|10|13|7|16|29|42|6|31|8|40|19|11|38|2|36|5|27|9|14|37|34|39|28|3|0|26|12|4|18','errorMessage','561CsOnZG','getPackageVersion','disableAutoCaptureLogs','platforms','./ats/helper','proxyConfig','constructor','UPGRADE_REQUIRED','browserStackLocalOptions','cliConfig'];a55_0x56dd=function(){return _0xbf9dca;};return a55_0x56dd();}function a55_0xfd7d(_0xde1345,_0x42e828){const _0x56dd72=a55_0x56dd();return a55_0xfd7d=function(_0xfd7d0,_0x290bbb){_0xfd7d0=_0xfd7d0-0x15b;let _0x5ad5f1=_0x56dd72[_0xfd7d0];return _0x5ad5f1;},a55_0xfd7d(_0xde1345,_0x42e828);}const util=require(a55_0x20a6af(0x229)),os=require('os'),path=require('path'),{v4:uuidv4}=require(a55_0x20a6af(0x23b)),constants=require('../bin/utils/constants'),{isTurboScaleSession}=require(a55_0x20a6af(0x200)),logger=require('./logger')[a55_0x20a6af(0x1c6)],helper=require(a55_0x20a6af(0x239)),utilities=require('./utilities'),percyHelper=require(a55_0x20a6af(0x224)),hubAllocator=require('../hubAllocationMethods'),PerformanceTester=require('./performance-tester'),{setPercyFlag}=require('./testhub/utils'),TestHubHandler=require(a55_0x20a6af(0x21d)),globals=require(a55_0x20a6af(0x161)),timeoutPromise=require(a55_0x20a6af(0x15f));class BrowserStackSetup{constructor(_0x4c3226,_0x18a2f7){const _0x912e34=a55_0x20a6af,_0x2bb72e={'tnMNc':_0x912e34(0x1fa),'ipfiF':_0x912e34(0x1bd),'iMlai':function(_0x556bdc){return _0x556bdc();},'fhvvy':function(_0x2f3786,_0x281f4c){return _0x2f3786!==_0x281f4c;},'MRJVT':_0x912e34(0x20c),'esZaE':_0x912e34(0x1d0),'OvOnr':_0x912e34(0x1f2),'IJGLO':'SIGBREAK','aBvYL':_0x912e34(0x1d2),'CqEvp':_0x912e34(0x15c),'QYwOd':_0x912e34(0x17e),'BOInj':function(_0x1192eb,_0xb24f10){return _0x1192eb<_0xb24f10;},'Ntehz':function(_0x27e8a3,_0x386fdc){return _0x27e8a3(_0x386fdc);},'lwLWI':_0x912e34(0x176),'jdxkv':function(_0x1d4c2b,_0xb1a622){return _0x1d4c2b===_0xb1a622;},'nPbgG':_0x912e34(0x197),'mZvwe':_0x912e34(0x19a),'iSqRJ':function(_0x13a789,_0x3838a5){return _0x13a789===_0x3838a5;},'JXjRw':_0x912e34(0x196),'AdORI':function(_0x27d17e,_0x1e73c2){return _0x27d17e===_0x1e73c2;},'GQxaH':_0x912e34(0x223),'Ocdpu':_0x912e34(0x16e),'tyhuS':_0x912e34(0x162),'ZanXq':'userName\x20or\x20accessKey\x20is\x20not\x20defined'},_0x29b3f1=_0x2bb72e[_0x912e34(0x1f1)][_0x912e34(0x173)]('|');let _0x10e0db=0x0;while(!![]){switch(_0x29b3f1[_0x10e0db++]){case'0':process['on'](_0x2bb72e[_0x912e34(0x177)],this['intExitHandler']);continue;case'1':this[_0x912e34(0x189)]=_0x2bb72e['iMlai'](uuidv4);continue;case'2':helper[_0x912e34(0x1c3)](this[_0x912e34(0x1be)]);continue;case'3':this[_0x912e34(0x1e3)]=this[_0x912e34(0x1e3)][_0x912e34(0x1d8)](this);continue;case'4':_0x2bb72e[_0x912e34(0x1a6)](process[_0x912e34(0x1e5)],_0x2bb72e[_0x912e34(0x21c)])?(process['on'](_0x2bb72e['esZaE'],this[_0x912e34(0x1e3)]),process['on'](_0x2bb72e[_0x912e34(0x1bc)],this[_0x912e34(0x1e3)])):process['on'](_0x2bb72e[_0x912e34(0x1e4)],this[_0x912e34(0x1e3)]);continue;case'5':this['handleExceptions']();continue;case'6':this[_0x912e34(0x1be)][_0x912e34(0x17b)][_0x912e34(0x1da)]=!helper[_0x912e34(0x1d4)]()||helper[_0x912e34(0x208)](this[_0x912e34(0x1be)][_0x912e34(0x17b)]['skipSessionName']);continue;case'7':if(helper[_0x912e34(0x164)](this['config']))throw new Error(_0x2bb72e['aBvYL']);continue;case'8':!this[_0x912e34(0x1be)]['browserStackLocalOptions']&&(this[_0x912e34(0x1be)][_0x912e34(0x204)]=this['config'][_0x912e34(0x19d)]||{});continue;case'9':if(!helper[_0x912e34(0x1d4)]()){try{process[_0x912e34(0x1e7)][_0x912e34(0x1cc)]=_0x18a2f7,utilities[_0x912e34(0x22b)](_0x2bb72e[_0x912e34(0x24a)],{},this[_0x912e34(0x1be)],this[_0x912e34(0x214)]);}catch(_0x3ab3a7){logger['debug'](_0x912e34(0x236)+_0x3ab3a7);}return;}continue;case'10':this[_0x912e34(0x248)]=null;continue;case'11':this['config'][_0x912e34(0x204)]['skipBinaryInitialisation']=helper[_0x912e34(0x208)](this[_0x912e34(0x1be)]['browserStackLocalOptions'][_0x912e34(0x220)]);continue;case'12':process['on'](_0x2bb72e[_0x912e34(0x192)],this[_0x912e34(0x1e3)]);continue;case'13':global['sdkRunID']=this['sdkRunID'];continue;case'14':helper[_0x912e34(0x21b)](_0x18a2f7)&&(_0x2bb72e['BOInj'](_0x2bb72e['Ntehz'](parseInt,helper[_0x912e34(0x1fd)](_0x2bb72e[_0x912e34(0x20a)])),0x3)&&(this[_0x912e34(0x1be)][_0x912e34(0x231)]=![]),_0x2bb72e[_0x912e34(0x1f3)](helper[_0x912e34(0x167)](helper[_0x912e34(0x1fd)](_0x2bb72e['lwLWI']),_0x2bb72e[_0x912e34(0x241)]),0x1)&&(this[_0x912e34(0x1be)]['useW3C']=!![]));continue;case'15':helper[_0x912e34(0x23d)](this[_0x912e34(0x1be)]);continue;case'16':if(this['config'][_0x912e34(0x19f)])throw new Error(this[_0x912e34(0x1be)][_0x912e34(0x19f)]);continue;case'17':this[_0x912e34(0x1be)]=helper[_0x912e34(0x238)](helper[_0x912e34(0x174)](_0x4c3226));continue;case'18':process['on'](_0x2bb72e['mZvwe'],this[_0x912e34(0x1dd)]());continue;case'19':helper[_0x912e34(0x169)](this['config'])&&helper[_0x912e34(0x164)](helper[_0x912e34(0x1b0)](this[_0x912e34(0x1be)]))&&(!helper[_0x912e34(0x164)](this[_0x912e34(0x1be)][_0x912e34(0x204)])&&_0x2bb72e[_0x912e34(0x194)](this[_0x912e34(0x1be)][_0x912e34(0x204)][_0x912e34(0x202)],Object)?!helper[_0x912e34(0x208)](this[_0x912e34(0x1be)][_0x912e34(0x204)][_0x912e34(0x220)])&&(this[_0x912e34(0x1be)]['browserStackLocalOptions'][_0x912e34(0x242)]=helper[_0x912e34(0x1c7)]()):this[_0x912e34(0x1be)][_0x912e34(0x204)]={'localIdentifier':helper[_0x912e34(0x1c7)]()});continue;case'20':this[_0x912e34(0x18a)]=[];continue;case'21':global[_0x912e34(0x214)]=_0x18a2f7;continue;case'22':this[_0x912e34(0x214)]=_0x18a2f7;continue;case'23':this[_0x912e34(0x21a)]=null;continue;case'24':this[_0x912e34(0x205)]=helper[_0x912e34(0x1c8)](_0x4c3226);continue;case'25':this[_0x912e34(0x1b9)]=helper[_0x912e34(0x1a9)]();continue;case'26':process['on'](_0x2bb72e[_0x912e34(0x1bf)],this[_0x912e34(0x1e3)]);continue;case'27':process['env'][_0x912e34(0x165)]&&(this[_0x912e34(0x1be)][_0x912e34(0x1ee)]=helper[_0x912e34(0x208)](process[_0x912e34(0x1e7)][_0x912e34(0x165)]),this['config'][_0x912e34(0x1f4)]=this[_0x912e34(0x1be)][_0x912e34(0x1f4)]||{});continue;case'28':!this[_0x912e34(0x1be)][_0x912e34(0x1fe)]&&logger[_0x912e34(0x199)](constants[_0x912e34(0x1b3)]);continue;case'29':helper[_0x912e34(0x230)](this['config'],this[_0x912e34(0x205)]);continue;case'30':this[_0x912e34(0x1be)][_0x912e34(0x17b)]=this[_0x912e34(0x1be)][_0x912e34(0x17b)]||{};continue;case'31':helper[_0x912e34(0x1c0)](this[_0x912e34(0x1be)],this[_0x912e34(0x205)],this[_0x912e34(0x1b9)]);continue;case'32':global['config']=this[_0x912e34(0x1be)];continue;case'33':this[_0x912e34(0x1fb)]={};continue;case'34':!this[_0x912e34(0x1be)]['testContextOptions']&&(this['config'][_0x912e34(0x17b)]={});continue;case'35':this[_0x912e34(0x1c9)]=null;continue;case'36':if(_0x2bb72e[_0x912e34(0x182)](_0x18a2f7,_0x2bb72e['GQxaH']))return;continue;case'37':(helper[_0x912e34(0x164)](this[_0x912e34(0x1be)][_0x912e34(0x1ff)])||helper[_0x912e34(0x164)](this[_0x912e34(0x1be)][_0x912e34(0x1ff)][_0x912e34(0x1f7)]))&&(helper[_0x912e34(0x164)](this[_0x912e34(0x1be)][_0x912e34(0x1b6)])?logger[_0x912e34(0x199)](_0x2bb72e[_0x912e34(0x1b7)]):logger['warn'](_0x2bb72e['tyhuS']),this[_0x912e34(0x1be)][_0x912e34(0x1ff)]=[]);continue;case'38':helper[_0x912e34(0x1ac)](this[_0x912e34(0x1be)],this[_0x912e34(0x205)],this[_0x912e34(0x1b9)]);continue;case'39':try{process[_0x912e34(0x1e7)][_0x912e34(0x1cc)]=_0x4c3226['_'][0x0],utilities['fireFunnelTestEvent'](_0x2bb72e['CqEvp'],{},this[_0x912e34(0x1be)],this['framework']);}catch(_0x1a6aaa){logger[_0x912e34(0x1b2)](_0x912e34(0x236)+_0x1a6aaa);}continue;case'40':if(helper[_0x912e34(0x164)](helper[_0x912e34(0x22c)](this[_0x912e34(0x1be)]))||helper[_0x912e34(0x164)](helper[_0x912e34(0x221)](this[_0x912e34(0x1be)])))throw new Error(_0x2bb72e[_0x912e34(0x1ab)]);continue;case'41':this[_0x912e34(0x1be)][_0x912e34(0x1ff)]=this['config'][_0x912e34(0x1ff)]||[];continue;case'42':this[_0x912e34(0x1be)][_0x912e34(0x17b)]['skipSessionStatus']=!helper[_0x912e34(0x1d4)]()||helper[_0x912e34(0x208)](this[_0x912e34(0x1be)]['testContextOptions']['skipSessionStatus']);continue;}break;}}async[a55_0x20a6af(0x1a4)](){const _0x24770a=a55_0x20a6af,_0x42a4b2={'OsUet':function(_0x4eb892,_0x78ef2){return _0x4eb892(_0x78ef2);},'YWwIj':_0x24770a(0x23e),'YEnVB':_0x24770a(0x172),'USULA':_0x24770a(0x1a2),'OTqdB':function(_0x3f2b67,_0x209709){return _0x3f2b67===_0x209709;},'Ivvpl':'playwright','rtLzX':function(_0x13357a,_0x124958){return _0x13357a+_0x124958;},'bsCpS':_0x24770a(0x188),'SbGdn':_0x24770a(0x166),'aWuRp':function(_0x4c5dd3,_0x5e3e1c){return _0x4c5dd3(_0x5e3e1c);}};if(_0x42a4b2['OsUet'](isTurboScaleSession,this[_0x24770a(0x1be)])){const _0x7d3354=await helper['getTurboScaleGridDetails'](this[_0x24770a(0x1be)]);this[_0x24770a(0x1be)][_0x24770a(0x163)]=_0x7d3354,_0x7d3354[_0x24770a(0x1e2)]&&(this[_0x24770a(0x1be)][_0x24770a(0x21a)]=!![],this['config'][_0x24770a(0x204)][_0x24770a(0x242)]=_0x42a4b2[_0x24770a(0x207)],this['config'][_0x24770a(0x204)][_0x42a4b2['YEnVB']]=_0x7d3354[_0x24770a(0x1f5)]['join'](','),this[_0x24770a(0x1be)]['browserStackLocalOptions']['forceLocal']=_0x42a4b2[_0x24770a(0x181)]),this['config'][_0x24770a(0x23a)]=_0x7d3354[_0x24770a(0x1ce)],this[_0x24770a(0x214)]&&_0x42a4b2[_0x24770a(0x217)](this['framework'][_0x24770a(0x1e0)](),_0x42a4b2[_0x24770a(0x1c4)])&&(this[_0x24770a(0x1be)][_0x24770a(0x23a)]=_0x42a4b2[_0x24770a(0x1df)](_0x7d3354['playwrightUrl'],_0x42a4b2[_0x24770a(0x240)])),constants['hubUrl']=helper[_0x24770a(0x17a)](this[_0x24770a(0x1be)]),logger[_0x24770a(0x1b2)](_0x24770a(0x15b)+constants[_0x24770a(0x1ca)]);}helper[_0x24770a(0x226)](this[_0x24770a(0x1be)]),this[_0x24770a(0x178)](),_0x42a4b2['OsUet'](setPercyFlag,this),await this['setupBrowserstackLocal'](),![_0x42a4b2['SbGdn']][_0x24770a(0x1a8)](this[_0x24770a(0x214)])&&!_0x42a4b2['aWuRp'](isTurboScaleSession,this['config'])&&!process[_0x24770a(0x1e7)][_0x24770a(0x168)]&&await this[_0x24770a(0x21f)]();}async[a55_0x20a6af(0x212)](){const _0x791829=a55_0x20a6af,_0x41ae6b={};_0x41ae6b[_0x791829(0x23f)]=function(_0x1de452,_0x2842ed){return _0x1de452===_0x2842ed;},_0x41ae6b[_0x791829(0x1a7)]=_0x791829(0x244),_0x41ae6b[_0x791829(0x1c5)]=_0x791829(0x1e8),_0x41ae6b[_0x791829(0x1eb)]='Percy\x20started\x20successfully',_0x41ae6b[_0x791829(0x22f)]=_0x791829(0x1a2),_0x41ae6b[_0x791829(0x15d)]=_0x791829(0x19a);const _0x2d5b06=_0x41ae6b;if(helper[_0x791829(0x208)](this[_0x791829(0x1be)][_0x791829(0x1c9)])&&(!this[_0x791829(0x1c9)]||!this[_0x791829(0x1c9)][_0x791829(0x1de)]()))try{this[_0x791829(0x1c9)]=await percyHelper[_0x791829(0x1d1)](this[_0x791829(0x1be)]);if(!this[_0x791829(0x1c9)]){process[_0x791829(0x1e7)][_0x791829(0x1e1)]=_0x2d5b06[_0x791829(0x1a7)];throw new Error(_0x2d5b06[_0x791829(0x1c5)]);}logger[_0x791829(0x199)](_0x2d5b06[_0x791829(0x1eb)]),process['env'][_0x791829(0x1e1)]=_0x2d5b06[_0x791829(0x22f)];let _0x2dd214=0x0;const _0x34c61e=async()=>{const _0x5b67aa=_0x791829;_0x2dd214++,_0x2d5b06[_0x5b67aa(0x23f)](_0x2dd214,0x1)&&await this[_0x5b67aa(0x17d)]();};process['on'](_0x2d5b06[_0x791829(0x15d)],_0x34c61e);}catch(_0x374487){process[_0x791829(0x1e7)][_0x791829(0x1e1)]=_0x2d5b06['ayAfw'],logger[_0x791829(0x1b2)](_0x791829(0x245)+_0x374487);throw new Error(_0x374487[_0x791829(0x228)]());}}async['stopPercy'](){const _0x2993de=a55_0x20a6af,_0x5ad470={};_0x5ad470[_0x2993de(0x17c)]=_0x2993de(0x1c1),_0x5ad470['LlBxZ']='Error\x20occured\x20while\x20stopping\x20percy';const _0x5318a8=_0x5ad470;if(this[_0x2993de(0x1c9)]&&this['percy'][_0x2993de(0x1de)]())try{await percyHelper[_0x2993de(0x17d)](this[_0x2993de(0x1c9)]),logger[_0x2993de(0x199)](_0x5318a8[_0x2993de(0x17c)]);}catch(_0x5f331a){logger[_0x2993de(0x19f)](_0x5318a8[_0x2993de(0x18f)],_0x5f331a[_0x2993de(0x19b)]);}}async[a55_0x20a6af(0x211)](){const _0x50b52a=a55_0x20a6af,_0x5b99cf={};_0x5b99cf[_0x50b52a(0x215)]=_0x50b52a(0x1a1),_0x5b99cf[_0x50b52a(0x186)]='Local\x20binary\x20started\x20successfully';const _0x414064=_0x5b99cf;if(helper['isBrowserstackInfra']()&&helper[_0x50b52a(0x208)](this[_0x50b52a(0x1be)][_0x50b52a(0x21a)])&&(!this[_0x50b52a(0x21a)]||!this[_0x50b52a(0x21a)][_0x50b52a(0x1de)]()))try{if(this[_0x50b52a(0x1be)][_0x50b52a(0x204)][_0x50b52a(0x220)]){logger[_0x50b52a(0x1b2)](_0x414064['WmIEk']);return;}this[_0x50b52a(0x21a)]=await helper[_0x50b52a(0x185)](this[_0x50b52a(0x1be)]),logger[_0x50b52a(0x199)](_0x414064[_0x50b52a(0x186)]);}catch(_0x518ca0){logger['debug'](_0x518ca0);throw new Error(_0x518ca0['toString']());}}async[a55_0x20a6af(0x20d)](){const _0x405e96=a55_0x20a6af,_0x2ceb51={};_0x2ceb51['Umqqz']=_0x405e96(0x1e9),_0x2ceb51[_0x405e96(0x16a)]=_0x405e96(0x23c);const _0x41654b=_0x2ceb51;if(this[_0x405e96(0x21a)]&&this[_0x405e96(0x21a)][_0x405e96(0x1de)]())try{await helper[_0x405e96(0x187)](this[_0x405e96(0x21a)]),logger[_0x405e96(0x199)](_0x41654b[_0x405e96(0x216)]);}catch(_0x5795e9){logger[_0x405e96(0x19f)](_0x41654b[_0x405e96(0x16a)],_0x5795e9[_0x405e96(0x19b)]);}}async[a55_0x20a6af(0x21f)](){const _0x1ea70e=a55_0x20a6af;await hubAllocator[_0x1ea70e(0x1ad)](this[_0x1ea70e(0x1be)]);}async[a55_0x20a6af(0x1f6)](){const _0x4d45c0=a55_0x20a6af,_0x4997dc={'hGsPk':function(_0x40d990,_0xd18966){return _0x40d990(_0xd18966);},'vmiQO':'../ai-sdk-node/bundle','GRFDM':function(_0x130d4d,_0x864b69,_0x22e54b,_0x31186a,_0x3bb912,_0x3900b5,_0x8154c9){return _0x130d4d(_0x864b69,_0x22e54b,_0x31186a,_0x3bb912,_0x3900b5,_0x8154c9);},'uYlzl':_0x4d45c0(0x1b4),'OOppG':_0x4d45c0(0x1dc),'IWvDQ':function(_0x1628eb,_0x33a1b8){return _0x1628eb(_0x33a1b8);},'HKQRh':'../../package.json','Wtwmq':_0x4d45c0(0x1a3),'TMZAD':function(_0x50fce4,_0x4a9902){return _0x50fce4(_0x4a9902);},'LoIyv':function(_0xcda39f,_0x4623ca){return _0xcda39f===_0x4623ca;},'NyNXP':_0x4d45c0(0x1a2),'vWNOM':function(_0x3bfe5a,_0x488a8b){return _0x3bfe5a===_0x488a8b;},'rUFyM':'Please\x20upgrade\x20Browserstack\x20SDK\x20to\x20the\x20latest\x20version\x20to\x20use\x20the\x20self-healing\x20feature.','IGLMs':function(_0x5d0f2e,_0x3dffcc){return _0x5d0f2e===_0x3dffcc;},'TagOv':'Something\x20went\x20wrong.\x20Disabling\x20healing\x20for\x20this\x20session.\x20Please\x20try\x20again\x20later.','MExcj':'Authentication\x20Failed.\x20Disabling\x20Healing\x20for\x20this\x20session.','mHgXp':_0x4d45c0(0x179),'cHtAh':function(_0x25f9cd,_0x43678c){return _0x25f9cd>=_0x43678c;},'cpvUG':function(_0x4a504a,_0x121d7d){return _0x4a504a<_0x121d7d;},'LBOJs':_0x4d45c0(0x1a0),'IgAxR':_0x4d45c0(0x210),'JltZA':function(_0xfb2c77){return _0xfb2c77();}},_0x4053dc=PerformanceTester[_0x4d45c0(0x237)](_0x4997dc[_0x4d45c0(0x249)],async()=>{const _0x505c10=_0x4d45c0;try{const _0x4d5a77=new Date(),_0x2ded3b=helper['getProxyConfigForTcg'](this[_0x505c10(0x1be)]),_0x4faf72=_0x4997dc[_0x505c10(0x225)](require,path[_0x505c10(0x18c)](__dirname,_0x4997dc[_0x505c10(0x16c)])),_0x5006bd=_0x4997dc[_0x505c10(0x18d)](timeoutPromise,constants[_0x505c10(0x1cb)],_0x4997dc[_0x505c10(0x1d7)],_0x4997dc[_0x505c10(0x1f0)],_0x4d5a77,this[_0x505c10(0x1be)],this[_0x505c10(0x214)]),_0x5ca517={'tcgUrl':constants[_0x505c10(0x1e6)],'sdkVersion':_0x4997dc['IWvDQ'](require,_0x4997dc[_0x505c10(0x22e)])[_0x505c10(0x219)],'methodUsed':_0x4997dc[_0x505c10(0x1f8)],'proxyConfig':_0x2ded3b,'os':os['platform']()};if(_0x2ded3b&&_0x2ded3b[_0x505c10(0x218)]){utilities['fireFunnelTestEvent'](constants[_0x505c10(0x1d5)],_0x5ca517,this[_0x505c10(0x1be)],this[_0x505c10(0x214)]);return;}const _0x8fe1b={};_0x8fe1b[_0x505c10(0x234)]=_0x2ded3b;const _0x29183b=await Promise[_0x505c10(0x206)]([_0x4faf72[_0x505c10(0x1af)](this['config'][_0x505c10(0x1a5)],this[_0x505c10(0x1be)][_0x505c10(0x246)],constants[_0x505c10(0x1e6)],_0x4997dc[_0x505c10(0x1d6)](require,_0x4997dc[_0x505c10(0x22e)])[_0x505c10(0x219)],_0x8fe1b)[_0x505c10(0x233)](_0x44a6cd=>{const _0x1303ba=_0x505c10;return _0x5006bd[_0x1303ba(0x1b1)](),_0x44a6cd;}),_0x5006bd]);_0x29183b[_0x505c10(0x183)]=_0x4997dc[_0x505c10(0x193)](_0x29183b['isHealingEnabled'],_0x4997dc[_0x505c10(0x243)])||_0x4997dc[_0x505c10(0x193)](_0x29183b[_0x505c10(0x183)],!![]);const _0x5d89e4=_0x4997dc[_0x505c10(0x193)](this['config']['selfHeal'],!![])||_0x4997dc['LoIyv'](this[_0x505c10(0x1be)]['selfHeal'],_0x4997dc[_0x505c10(0x243)]);if(_0x4997dc['vWNOM'](_0x29183b[_0x505c10(0x19b)],constants[_0x505c10(0x203)])&&_0x5d89e4)logger[_0x505c10(0x199)](_0x4997dc[_0x505c10(0x22d)]);else{if(!_0x29183b['isAuthenticated']&&_0x4997dc[_0x505c10(0x18b)](_0x29183b[_0x505c10(0x235)],0x1f7)&&_0x5d89e4)logger[_0x505c10(0x199)](_0x4997dc[_0x505c10(0x160)]),utilities['fireFunnelTestEvent'](constants[_0x505c10(0x190)],_0x5ca517,this['config'],this[_0x505c10(0x214)]);else{if(!_0x29183b[_0x505c10(0x1d3)]&&_0x5d89e4){logger['info'](_0x4997dc[_0x505c10(0x213)]);const _0x250926={'tcgUrl':constants[_0x505c10(0x1e6)],'sdkVersion':_0x4997dc[_0x505c10(0x225)](require,_0x4997dc['HKQRh'])[_0x505c10(0x219)],'methodUsed':_0x4997dc[_0x505c10(0x1f8)],'proxyConfig':_0x2ded3b,'os':os[_0x505c10(0x1e5)]()};utilities[_0x505c10(0x22b)](constants[_0x505c10(0x20e)],_0x250926,this[_0x505c10(0x1be)],this[_0x505c10(0x214)]);}else{if(_0x29183b[_0x505c10(0x1d3)]&&!_0x29183b[_0x505c10(0x183)]&&_0x5d89e4)logger['info'](_0x4997dc[_0x505c10(0x1db)]);else{if(_0x4997dc['cHtAh'](_0x29183b[_0x505c10(0x235)],0xc8)&&_0x4997dc[_0x505c10(0x175)](_0x29183b[_0x505c10(0x235)],0x12c))utilities[_0x505c10(0x22b)](constants[_0x505c10(0x1aa)],_0x5ca517,this[_0x505c10(0x1be)],this[_0x505c10(0x214)]);else{if(_0x4997dc[_0x505c10(0x1ea)](_0x29183b[_0x505c10(0x235)],0x190))_0x5ca517[_0x505c10(0x235)]=_0x29183b[_0x505c10(0x235)],utilities[_0x505c10(0x22b)](constants[_0x505c10(0x1bb)],_0x5ca517,this[_0x505c10(0x1be)],this[_0x505c10(0x214)]);else!_0x29183b[_0x505c10(0x235)]&&utilities[_0x505c10(0x22b)](constants[_0x505c10(0x20b)],_0x5ca517,this[_0x505c10(0x1be)],this[_0x505c10(0x214)]);}}}}}if(_0x29183b[_0x505c10(0x1d3)]&&_0x29183b[_0x505c10(0x183)]){const _0x1725a7={};_0x1725a7[_0x505c10(0x1cd)]=_0x29183b;const _0x4af503=_0x1725a7;_0x2ded3b&&(_0x4af503[_0x505c10(0x201)]=_0x2ded3b),_0x4af503[_0x505c10(0x214)]=this[_0x505c10(0x214)],_0x4af503[_0x505c10(0x170)]=this['config'],helper[_0x505c10(0x1c2)](_0x4af503),logger['debug'](_0x4997dc['LBOJs']);}}catch(_0x11a8b3){logger[_0x505c10(0x1b2)](_0x505c10(0x209)+(_0x11a8b3[_0x505c10(0x19b)]?_0x11a8b3[_0x505c10(0x19b)]:''));}});await _0x4997dc['JltZA'](_0x4053dc);}[a55_0x20a6af(0x178)](){const _0x12680a=a55_0x20a6af,_0x4799c9={'xMEqh':function(_0x3f0e4c,_0x81272e){return _0x3f0e4c(_0x81272e);},'mcAmv':'./setKeepAlive'};_0x4799c9[_0x12680a(0x1b5)](require,_0x4799c9['mcAmv'])();}[a55_0x20a6af(0x184)](){const _0x3a1dfa=a55_0x20a6af,_0x5df37a={};_0x5df37a[_0x3a1dfa(0x1ed)]=_0x3a1dfa(0x1ba),_0x5df37a[_0x3a1dfa(0x1f9)]=_0x3a1dfa(0x1b8);const _0x5adea5=_0x5df37a,_0x2f33a8=_0x244b8b=>{const _0x512754=_0x3a1dfa;logger[_0x512754(0x19f)](_0x244b8b[_0x512754(0x19b)]),logger[_0x512754(0x1b2)](util['format'](_0x244b8b)),this['unhandledErrors'][_0x512754(0x18e)](util[_0x512754(0x222)]('%j',_0x244b8b)),PerformanceTester['captureError'](_0x244b8b);};process['on'](_0x5adea5[_0x3a1dfa(0x1ed)],_0x2f33a8),process['on'](_0x5adea5[_0x3a1dfa(0x1f9)],_0x2f33a8);}async[a55_0x20a6af(0x1e3)](_0x575cea){const _0x41bfb4=a55_0x20a6af,_0x3beea0={};_0x3beea0[_0x41bfb4(0x180)]=_0x41bfb4(0x19c),_0x3beea0[_0x41bfb4(0x1d9)]=function(_0x432cad,_0x4e87ff){return _0x432cad+_0x4e87ff;},_0x3beea0[_0x41bfb4(0x19e)]='handled',_0x3beea0[_0x41bfb4(0x227)]=function(_0x2328ac,_0x235d62){return _0x2328ac+_0x235d62;},_0x3beea0[_0x41bfb4(0x20f)]=_0x41bfb4(0x1ae);const _0x2bab95=_0x3beea0,_0x3f0b3c=_0x2bab95[_0x41bfb4(0x180)]['split']('|');let _0x284a60=0x0;while(!![]){switch(_0x3f0b3c[_0x284a60++]){case'0':await TestHubHandler[_0x41bfb4(0x16f)](_0x575cea);continue;case'1':this[_0x2bab95['YWipr'](_0x2bab95[_0x41bfb4(0x19e)],_0x575cea)]=!![];continue;case'2':this[_0x41bfb4(0x248)]=_0x575cea;continue;case'3':if(this[_0x2bab95[_0x41bfb4(0x227)](_0x2bab95[_0x41bfb4(0x19e)],_0x575cea)])return;continue;case'4':logger[_0x41bfb4(0x199)](_0x2bab95[_0x41bfb4(0x1d9)](_0x2bab95['iUXpO'],_0x575cea));continue;}break;}}[a55_0x20a6af(0x1dd)](){const _0x288691=a55_0x20a6af,_0x5a3b25={};_0x5a3b25[_0x288691(0x24b)]=function(_0x10b968,_0x2f064a){return _0x10b968===_0x2f064a;},_0x5a3b25[_0x288691(0x15e)]=_0x288691(0x21e);const _0x582559=_0x5a3b25;let _0xf5037b=0x0;return async()=>{const _0xee128=_0x288691;_0xf5037b++;if(_0x582559[_0xee128(0x24b)](_0xf5037b,0x1)){helper[_0xee128(0x195)](this[_0xee128(0x214)])&&await this[_0xee128(0x20d)]();try{logger[_0xee128(0x1b2)](_0x582559[_0xee128(0x15e)]),await TestHubHandler[_0xee128(0x16f)](_0xf5037b);}catch(_0x4944fb){logger['debug'](_0xee128(0x198)+util[_0xee128(0x222)](_0x4944fb));}}};}}exports[a55_0x20a6af(0x1cf)]=BrowserStackSetup;