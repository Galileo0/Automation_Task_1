#!/usr/bin/env node
'use strict';const a5_0x319e1e=a5_0x365f;(function(_0x1f8864,_0x5979ef){const _0x35e7ff=a5_0x365f,_0x498f91=_0x1f8864();while(!![]){try{const _0x133fe0=-parseInt(_0x35e7ff(0x180))/0x1*(parseInt(_0x35e7ff(0x161))/0x2)+-parseInt(_0x35e7ff(0x1aa))/0x3+parseInt(_0x35e7ff(0x13c))/0x4*(-parseInt(_0x35e7ff(0x185))/0x5)+-parseInt(_0x35e7ff(0x183))/0x6*(-parseInt(_0x35e7ff(0x14d))/0x7)+-parseInt(_0x35e7ff(0x194))/0x8*(-parseInt(_0x35e7ff(0x199))/0x9)+-parseInt(_0x35e7ff(0x163))/0xa+parseInt(_0x35e7ff(0x13f))/0xb*(parseInt(_0x35e7ff(0x190))/0xc);if(_0x133fe0===_0x5979ef)break;else _0x498f91['push'](_0x498f91['shift']());}catch(_0x49a53e){_0x498f91['push'](_0x498f91['shift']());}}}(a5_0x2d6e,0xb2a93));const fs=require('fs'),path=require(a5_0x319e1e(0x157)),util=require('util'),logger=require(a5_0x319e1e(0x1a4))[a5_0x319e1e(0x12b)],{default:BrowserStackSetup}=require('../../helpers/BrowserStackSetup'),helper=require(a5_0x319e1e(0x172)),utilities=require('../../helpers/utilities'),constants=require('../utils/constants'),{parallelCucumberRun}=require(a5_0x319e1e(0x144)),TestHubHandler=require(a5_0x319e1e(0x148)),testOpsHelper=require(a5_0x319e1e(0x12d)),chalk=require(a5_0x319e1e(0x130));function printCucumberStats(_0x477a8a){const _0x571b8f=a5_0x319e1e,_0x4aac09={};_0x4aac09[_0x571b8f(0x174)]=function(_0x3a2808,_0x487813){return _0x3a2808>_0x487813;},_0x4aac09[_0x571b8f(0x167)]=function(_0x3ff74c,_0x4c89a9){return _0x3ff74c-_0x4c89a9;},_0x4aac09['xrVyJ']=function(_0x17ac94,_0x446d01){return _0x17ac94-_0x446d01;},_0x4aac09[_0x571b8f(0x188)]=function(_0x2aa512,_0x26bda7){return _0x2aa512>_0x26bda7;},_0x4aac09['zwrHG']=function(_0x1c5e4d,_0x55c638){return _0x1c5e4d>_0x55c638;},_0x4aac09['FUqIZ']=function(_0x47f871,_0x53a7c4){return _0x47f871>_0x53a7c4;},_0x4aac09['ipnCP']=function(_0x526e86,_0x4571f5){return _0x526e86>_0x4571f5;},_0x4aac09[_0x571b8f(0x18b)]=function(_0x28bd78,_0x19702f){return _0x28bd78>_0x19702f;},_0x4aac09[_0x571b8f(0x15d)]=function(_0x213e7c,_0x5b9f55){return _0x213e7c>_0x5b9f55;},_0x4aac09[_0x571b8f(0x192)]=function(_0x3d1559,_0x5d7286){return _0x3d1559>_0x5d7286;},_0x4aac09[_0x571b8f(0x179)]=function(_0x1f120a,_0x1b96b8){return _0x1f120a+_0x1b96b8;},_0x4aac09[_0x571b8f(0x17e)]=function(_0x6328c7,_0x143cd7){return _0x6328c7+_0x143cd7;},_0x4aac09[_0x571b8f(0x142)]=function(_0x332e2f,_0x15c4aa){return _0x332e2f+_0x15c4aa;},_0x4aac09[_0x571b8f(0x19e)]=function(_0x37385a,_0x41b23f){return _0x37385a+_0x41b23f;},_0x4aac09[_0x571b8f(0x18f)]=function(_0x325b7c,_0x529ce7){return _0x325b7c+_0x529ce7;},_0x4aac09[_0x571b8f(0x19f)]=function(_0x5ac424,_0x18bd66){return _0x5ac424+_0x18bd66;},_0x4aac09[_0x571b8f(0x143)]=function(_0x3c56a0,_0x48472d){return _0x3c56a0===_0x48472d;},_0x4aac09[_0x571b8f(0x1a3)]=function(_0x4dd5fd,_0xaa41a6){return _0x4dd5fd===_0xaa41a6;},_0x4aac09[_0x571b8f(0x134)]=_0x571b8f(0x12c);const _0x9072c7=_0x4aac09;let _0x20e83e=0x0;if(_0x9072c7['OwGdA'](_0x477a8a['length'],0x0))return _0x20e83e;return console[_0x571b8f(0x1a9)](chalk[_0x571b8f(0x16b)][_0x571b8f(0x195)](_0x9072c7[_0x571b8f(0x134)])),_0x477a8a[_0x571b8f(0x178)](_0x555443=>{const _0x4ee373=_0x571b8f,_0x24f578=_0x555443[0x0],_0x220e6f=_0x555443[0x1];console[_0x4ee373(0x1a9)]('\x0a'+chalk[_0x4ee373(0x16b)][_0x4ee373(0x182)](''+helper[_0x4ee373(0x181)](_0x24f578)));const _0x46ad34=_0x220e6f[_0x4ee373(0x18d)],_0x1d7547=_0x220e6f[_0x4ee373(0x14f)],_0x28983b=_0x220e6f[_0x4ee373(0x1a5)],_0x5eab58=_0x220e6f[_0x4ee373(0x15b)],_0x538038=_0x220e6f[_0x4ee373(0x138)],_0x1352e1=_0x220e6f[_0x4ee373(0x15c)],_0x5147e1=_0x220e6f[_0x4ee373(0x139)],_0x49b0fb=_0x220e6f[_0x4ee373(0x1a8)],_0x25beec=_0x220e6f[_0x4ee373(0x160)],_0x7ec66f=_0x220e6f[_0x4ee373(0x169)],_0x483313=_0x220e6f[_0x4ee373(0x154)];let _0x5bf60a=_0x46ad34+_0x4ee373(0x18a);const _0x5b6696=_0x9072c7[_0x4ee373(0x174)](_0x9072c7[_0x4ee373(0x167)](_0x46ad34,_0x28983b),0x0)?_0x9072c7['xrVyJ'](_0x46ad34,_0x28983b):0x0;if(_0x9072c7[_0x4ee373(0x174)](_0x28983b,0x0)&&_0x9072c7[_0x4ee373(0x174)](_0x5b6696,0x0))_0x5bf60a+='\x20('+chalk['bold'][_0x4ee373(0x186)](_0x28983b+_0x4ee373(0x1a6))+',\x20'+chalk['bold']['green'](_0x5b6696+_0x4ee373(0x141))+')';else(_0x9072c7[_0x4ee373(0x188)](_0x28983b,0x0)||_0x9072c7[_0x4ee373(0x177)](_0x5b6696,0x0))&&(_0x5bf60a+=_0x9072c7[_0x4ee373(0x133)](_0x28983b,0x0)?'\x20('+chalk['bold'][_0x4ee373(0x186)](_0x28983b+'\x20failed')+')':'\x20('+chalk['bold']['green'](_0x5b6696+'\x20passed')+')');const _0x56f638=_0x1d7547+_0x4ee373(0x137),_0x3494a9=[];_0x9072c7[_0x4ee373(0x177)](_0x7ec66f,0x0)&&_0x3494a9[_0x4ee373(0x189)](''+chalk[_0x4ee373(0x16b)][_0x4ee373(0x186)](_0x7ec66f+_0x4ee373(0x170)));_0x9072c7[_0x4ee373(0x174)](_0x5eab58,0x0)&&_0x3494a9['push'](''+chalk[_0x4ee373(0x16b)][_0x4ee373(0x186)](_0x5eab58+'\x20failed'));_0x9072c7[_0x4ee373(0x14c)](_0x538038,0x0)&&_0x3494a9['push'](''+chalk[_0x4ee373(0x16b)][_0x4ee373(0x150)](_0x538038+_0x4ee373(0x141)));_0x9072c7['sBJQU'](_0x5147e1,0x0)&&_0x3494a9[_0x4ee373(0x189)](''+chalk['bold'][_0x4ee373(0x182)](_0x5147e1+_0x4ee373(0x14a)));_0x9072c7[_0x4ee373(0x15d)](_0x1352e1,0x0)&&_0x3494a9[_0x4ee373(0x189)](''+chalk[_0x4ee373(0x16b)][_0x4ee373(0x16c)](_0x1352e1+_0x4ee373(0x15e)));_0x9072c7[_0x4ee373(0x174)](_0x49b0fb,0x0)&&_0x3494a9[_0x4ee373(0x189)](''+chalk[_0x4ee373(0x16b)][_0x4ee373(0x182)](_0x49b0fb+'\x20undefined'));_0x9072c7['UAgbD'](_0x25beec,0x0)&&_0x3494a9[_0x4ee373(0x189)](''+chalk[_0x4ee373(0x16b)]['yellow'](_0x25beec+_0x4ee373(0x15e)));const _0x25778a=_0x9072c7[_0x4ee373(0x179)](_0x9072c7[_0x4ee373(0x17e)](_0x9072c7['GbtAl'](_0x56f638,'('),_0x3494a9[_0x4ee373(0x149)](',\x20')),')');console[_0x4ee373(0x1a9)](_0x9072c7[_0x4ee373(0x142)](_0x9072c7[_0x4ee373(0x19e)](_0x9072c7[_0x4ee373(0x18f)](_0x9072c7['aekec']('\x0a',_0x5bf60a),'\x0a'),_0x25778a),'\x0a')),_0x9072c7[_0x4ee373(0x143)](_0x483313,![])&&(_0x20e83e=0x1);}),_0x20e83e;}function a5_0x2d6e(){const _0x3a0737=['join','\x20pending','getUserWorkerCount','ipnCP','2254BkkvjU','PWOVM','steps','green','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','mpIHW','getErrorMessageFromResults','processSuccess','turboScaleUrl','skipSessionName','path','finally','length','false','stepsFailed','stepsSkipped','SOPWN','\x20skipped','accessibilityOptions','stepsUnknown','52SpfGiD','initialize','8523460bmUYKP','tmp','cucumber-js','unlinkSync','XmzYX','isBrowserstackInfra','stepsAmbiguous','stop','bold','cyan','logLevel','fZIHu','ekqjB','\x20ambiguous','splice','../../helpers/helper','exports','rnbWR','printBuildLink','debug','zwrHG','forEach','CpwyZ','isUndefined','env','format','lZDcX','wqOZZ','BROWSERSTACK_TEST_OBSERVABILITY_YML','53791srSEBp','getPlatformName','yellow','26232GoIgUT','markSDKSetupComplete','105LjfXPk','red','config','teOlB','push','\x20scenarios','sBJQU','parallelsPerPlatform','scenarios','cucumber','sGokf','24AgfyGw','testContextOptions','UAgbD','CUCUMBER','8bvlitw','bgWhite','RWYsp','getTCGConfigFilePaths','mergeOutputFiles','12283641QQUgZI','khFUq','proxySettings','Exception\x20in\x20stop\x20build\x20request\x20to\x20testhub\x20:\x20','setupTCGAuth','rMsQp','aekec','prepareCapabilities','removeDir','then','OwGdA','../../helpers/logger','scenariosFailed','\x20failed','skipSessionStatus','stepsUndefined','log','2051478vlRSdW','error\x20removing\x20tcg\x20config\x20file','winstonLogger','****\x20RESULTS\x20****','../../helpers/test-observability/utils','Generating\x20consolidated\x20report...','iiAOo','chalk','testObservability','FlJDM','FUqIZ','QfxMH','cwd','handleApp','\x20steps','stepsPassed','stepsPending','jJLNz','yybGF','231376edVtkB','FRAMEWORKS','mmmdd','11597432uhjyLO','LxoOD','\x20passed','GbtAl','SseFa','../test-runner','MegXG','exitCode','argv','../../helpers/testhub/testhubHandler'];a5_0x2d6e=function(){return _0x3a0737;};return a5_0x2d6e();}async function run(_0x21bbd0,_0x466689){const _0x364845=a5_0x319e1e,_0x3326c2={'RWYsp':function(_0x436c45,_0x2bc002){return _0x436c45(_0x2bc002);},'mmmdd':function(_0x1a7926,_0x582744){return _0x1a7926>_0x582744;},'khFUq':_0x364845(0x12e),'PWOVM':'Removing\x20tmp\x20directory\x20created\x20for\x20reports','FlJDM':_0x364845(0x18e),'LxoOD':_0x364845(0x1ab),'fZIHu':_0x364845(0x165),'iiAOo':_0x364845(0x164),'ekqjB':function(_0x41338d,_0x457832){return _0x41338d>_0x457832;},'MegXG':function(_0x4ea391,_0x268db8){return _0x4ea391-_0x268db8;},'lZDcX':function(_0x3d6351,_0x2d4fa1){return _0x3d6351>=_0x2d4fa1;},'mpIHW':function(_0x335e92,_0x192d22){return _0x335e92!=_0x192d22;},'jJLNz':_0x364845(0x15a),'yybGF':function(_0x53da71,_0x265937,_0x4330ed,_0x1d49bf,_0x36f995,_0x337131){return _0x53da71(_0x265937,_0x4330ed,_0x1d49bf,_0x36f995,_0x337131);}},_0x1fc71f=new BrowserStackSetup(_0x21bbd0,_0x3326c2[_0x364845(0x16e)]);await _0x1fc71f[_0x364845(0x162)]();!helper[_0x364845(0x168)]()&&await _0x1fc71f[_0x364845(0x19d)]();await helper[_0x364845(0x136)](_0x1fc71f[_0x364845(0x187)]);const _0x5a9fbd=helper['useW3C'](_0x1fc71f['config']),_0x3ec6d1=helper[_0x364845(0x1a0)](_0x1fc71f[_0x364845(0x187)],_0x5a9fbd,constants['FRAMEWORKS']['CUCUMBER']);if(!_0x1fc71f[_0x364845(0x187)])return;const _0x5f22fa=_0x1fc71f['config'][_0x364845(0x18c)]||helper[_0x364845(0x14b)](_0x21bbd0,_0x466689,_0x1fc71f['config'],constants['FRAMEWORKS'][_0x364845(0x193)])||0x1,_0x398da9={'server':helper['getHubUrl'](_0x1fc71f[_0x364845(0x187)]),'proxySettings':_0x1fc71f[_0x364845(0x187)][_0x364845(0x19b)],'maxWorkers':_0x5f22fa,'browserStackLogLevel':_0x1fc71f[_0x364845(0x187)][_0x364845(0x16d)],'skipSessionName':_0x1fc71f[_0x364845(0x187)][_0x364845(0x191)][_0x364845(0x156)],'skipSessionStatus':_0x1fc71f['config']['testContextOptions'][_0x364845(0x1a7)],'turboScaleUrl':_0x1fc71f[_0x364845(0x187)][_0x364845(0x155)]},_0x725362=process[_0x364845(0x147)],[_0x453386,_0x508c20]=helper['parseFormatters'](_0x725362),_0x47ee6f=path[_0x364845(0x149)](process[_0x364845(0x135)](),_0x3326c2[_0x364845(0x12f)]);if(_0x3326c2[_0x364845(0x16f)](_0x508c20['length'],0x0)){helper['createDir'](_0x47ee6f);for(let _0x553761=_0x3326c2[_0x364845(0x145)](_0x453386[_0x364845(0x159)],0x1);_0x3326c2[_0x364845(0x17d)](_0x553761,0x0);_0x553761--){_0x725362[_0x364845(0x171)](_0x453386[_0x553761],0x2);}}!helper[_0x364845(0x17a)](_0x1fc71f[_0x364845(0x187)][_0x364845(0x15f)])&&(process[_0x364845(0x17b)][_0x364845(0x151)]=JSON['stringify'](_0x1fc71f[_0x364845(0x187)]['accessibilityOptions']));_0x3326c2[_0x364845(0x152)](_0x1fc71f[_0x364845(0x187)]['testObservability'],null)?process[_0x364845(0x17b)][_0x364845(0x17f)]=_0x1fc71f[_0x364845(0x187)][_0x364845(0x131)]:process[_0x364845(0x17b)]['BROWSERSTACK_TEST_OBSERVABILITY_YML']=_0x3326c2[_0x364845(0x13a)];const _0x2c5bfe=await TestHubHandler['launchBuild'](constants[_0x364845(0x13d)]['CUCUMBER'],_0x1fc71f);helper[_0x364845(0x184)]();let _0x3d1eea;_0x3326c2[_0x364845(0x13b)](parallelCucumberRun,_0x3ec6d1,_0x398da9,_0x1fc71f['config'],_0x725362,_0x508c20)[_0x364845(0x1a2)](async _0x26d3c3=>{const _0x9700c2=_0x364845;_0x3d1eea=_0x26d3c3;const _0x3a2f1d=_0x3326c2[_0x9700c2(0x196)](printCucumberStats,_0x26d3c3);process[_0x9700c2(0x146)]=_0x3a2f1d,_0x3326c2[_0x9700c2(0x13e)](_0x508c20[_0x9700c2(0x159)],0x0)&&(logger[_0x9700c2(0x176)](_0x3326c2[_0x9700c2(0x19a)]),helper[_0x9700c2(0x198)](_0x47ee6f,_0x508c20),logger['debug'](_0x3326c2[_0x9700c2(0x14e)]),helper[_0x9700c2(0x1a1)](_0x47ee6f));})[_0x364845(0x158)](async()=>{const _0x1b41a7=_0x364845;_0x1fc71f['errorMessage']=helper[_0x1b41a7(0x153)](_0x3d1eea,_0x3326c2[_0x1b41a7(0x132)]),testOpsHelper[_0x1b41a7(0x175)]();try{await TestHubHandler[_0x1b41a7(0x16a)]();}catch(_0x1cdd3e){logger[_0x1b41a7(0x176)](_0x1b41a7(0x19c)+util[_0x1b41a7(0x17c)](_0x1cdd3e));}try{const {browserstackFolderPath:_0x2a546a,tcgConfigPath:_0x41504f}=helper[_0x1b41a7(0x197)]();fs[_0x1b41a7(0x166)](_0x41504f),fs['rmdirSync'](_0x2a546a);}catch(_0x1f2655){logger[_0x1b41a7(0x176)](_0x3326c2[_0x1b41a7(0x140)],_0x1f2655);}await utilities['finalExecution'](_0x1fc71f);});}function a5_0x365f(_0x460e25,_0x1d72d5){const _0x2d6ec3=a5_0x2d6e();return a5_0x365f=function(_0x365fd6,_0x491c71){_0x365fd6=_0x365fd6-0x12b;let _0x585816=_0x2d6ec3[_0x365fd6];return _0x585816;},a5_0x365f(_0x460e25,_0x1d72d5);}module[a5_0x319e1e(0x173)]=run;