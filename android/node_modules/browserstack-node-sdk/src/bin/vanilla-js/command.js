#!/usr/bin/env node
'use strict';const a53_0x572d37=a53_0x216c;(function(_0x392451,_0x2dd4c8){const _0x416282=a53_0x216c,_0xf60225=_0x392451();while(!![]){try{const _0x598811=-parseInt(_0x416282(0x110))/0x1*(-parseInt(_0x416282(0x123))/0x2)+parseInt(_0x416282(0x119))/0x3*(parseInt(_0x416282(0x10b))/0x4)+parseInt(_0x416282(0x112))/0x5+parseInt(_0x416282(0x11c))/0x6*(parseInt(_0x416282(0x12b))/0x7)+-parseInt(_0x416282(0x134))/0x8+-parseInt(_0x416282(0x11a))/0x9*(parseInt(_0x416282(0x137))/0xa)+-parseInt(_0x416282(0x132))/0xb;if(_0x598811===_0x2dd4c8)break;else _0xf60225['push'](_0xf60225['shift']());}catch(_0x295e0d){_0xf60225['push'](_0xf60225['shift']());}}}(a53_0x29d0,0xf29cb));function a53_0x216c(_0x11d5dc,_0x387554){const _0x29d06b=a53_0x29d0();return a53_0x216c=function(_0x216c2c,_0x30fd03){_0x216c2c=_0x216c2c-0x107;let _0x4b17b0=_0x29d06b[_0x216c2c];return _0x4b17b0;},a53_0x216c(_0x11d5dc,_0x387554);}const fs=require('fs'),path=require(a53_0x572d37(0x10e)),{default:BrowserStackSetup}=require(a53_0x572d37(0x115)),helper=require(a53_0x572d37(0x118)),utilities=require('../../helpers/utilities'),{parallelVanillaRun}=require('../test-runner'),TestHubHandler=require(a53_0x572d37(0x11b));function a53_0x29d0(){const _0x25591d=['getPlatformName','UHcet','push','8gxwbhP','VRcfd','Config\x20yml\x20is\x20required','path','file','3zMTiPv','platforms','9276320wkVrJw','fUcRS','useW3C','../../helpers/BrowserStackSetup','parallelsPerPlatform','cwd','../../helpers/helper','1753545GLRKsi','9vaACOh','../../helpers/testhub/testhubHandler','24pcMyYB','vanilla','getHubUrl','File\x20','markSDKSetupComplete','isUndefined','forEach','425770KuOHfN','modifyBrowserStackCaps','then','args','File\x20path\x20is\x20required','FPouL','wyXci','handleApp','503279hjLNrV','config','finally','finalExecution','PdOHY','rTUFX','KxfzU','15311923RJZXMv','join','367536iqSSWG','ikTbY','configuration','15188630gnfxOn','exports','length'];a53_0x29d0=function(){return _0x25591d;};return a53_0x29d0();}async function run(_0x33244a,_0x476173){const _0x2f1b28=a53_0x572d37,_0x583390={'FPouL':_0x2f1b28(0x11d),'rTUFX':function(_0x52e3a3,_0x514cc0){return _0x52e3a3(_0x514cc0);},'PdOHY':_0x2f1b28(0x127),'fUcRS':function(_0x44ae53,_0x32d7be){return _0x44ae53(_0x32d7be);},'wyXci':function(_0xd2b979,_0xa7fd6d){return _0xd2b979(_0xa7fd6d);},'ikTbY':_0x2f1b28(0x10d),'UHcet':function(_0x45fc68,_0x466f57){return _0x45fc68>_0x466f57;},'VRcfd':function(_0x3825e5,_0x365057){return _0x3825e5*_0x365057;},'KxfzU':function(_0x2331b3,_0x1db8ec,_0x17a57d){return _0x2331b3(_0x1db8ec,_0x17a57d);}},_0xcac712=new BrowserStackSetup(_0x33244a,_0x583390[_0x2f1b28(0x128)]);await _0xcac712['initialize'](),await helper[_0x2f1b28(0x12a)](_0xcac712['config']);const _0x465a49=[];if(helper[_0x2f1b28(0x121)](_0x33244a['_'][0x1]))throw _0x583390[_0x2f1b28(0x130)](Error,_0x583390[_0x2f1b28(0x12f)]);const _0x44894c=path[_0x2f1b28(0x133)](process[_0x2f1b28(0x117)](),_0x33244a['_'][0x1]);if(!fs['existsSync'](_0x44894c))throw _0x583390[_0x2f1b28(0x113)](Error,_0x2f1b28(0x11f)+_0x33244a['_'][0x1]+'\x20doesn\x27t\x20exist');if(!_0xcac712[_0x2f1b28(0x12c)])throw _0x583390[_0x2f1b28(0x129)](Error,_0x583390[_0x2f1b28(0x135)]);const _0x4954b7=helper[_0x2f1b28(0x114)](_0xcac712[_0x2f1b28(0x12c)]);_0xcac712[_0x2f1b28(0x12c)][_0x2f1b28(0x111)]&&_0x583390[_0x2f1b28(0x109)](_0xcac712[_0x2f1b28(0x12c)][_0x2f1b28(0x111)][_0x2f1b28(0x107)],0x0)&&_0xcac712['config'][_0x2f1b28(0x111)][_0x2f1b28(0x122)]((_0x34a7a3,_0x4c9d0a)=>{const _0x34045a=_0x2f1b28;_0x4954b7?_0x465a49[_0x34045a(0x10a)](helper['modifyBrowserStackW3CCaps'](_0xcac712[_0x34045a(0x12c)],_0x583390[_0x34045a(0x128)],_0x4c9d0a)):_0x465a49[_0x34045a(0x10a)](helper['modifyBrowserStackCaps'](_0xcac712['config'],_0x583390[_0x34045a(0x128)],_0x4c9d0a));});let _0x238bdd,_0x158a91;const _0xcd6dcc=[];if(_0x583390[_0x2f1b28(0x109)](_0x465a49[_0x2f1b28(0x107)],0x0))_0x465a49[_0x2f1b28(0x122)]((_0x7523ff,_0x4ff2a5)=>{const _0x1f074f=_0x2f1b28;_0x238bdd={'server':helper[_0x1f074f(0x11e)](_0xcac712[_0x1f074f(0x12c)]),'proxySettings':_0xcac712[_0x1f074f(0x12c)]['proxySettings'],'platform':helper[_0x1f074f(0x108)](_0x7523ff),'platformCaps':_0xcac712[_0x1f074f(0x12c)]['platforms'][_0x4ff2a5]};const _0x2e0064={'capability':_0x7523ff,..._0x238bdd};_0x2e0064[_0x1f074f(0x10f)]=_0x44894c,_0x2e0064['args']=_0x476173;const _0x4366e7={};_0x4366e7[_0x1f074f(0x136)]=_0x2e0064,_0x158a91=_0x4366e7,_0xcd6dcc[_0x1f074f(0x10a)](_0x158a91);});else{let _0x50bf86;_0x4954b7?_0x50bf86=helper['modifyBrowserStackW3CCaps'](_0xcac712[_0x2f1b28(0x12c)],_0x583390[_0x2f1b28(0x128)],0x0):_0x50bf86=helper[_0x2f1b28(0x124)](_0xcac712[_0x2f1b28(0x12c)],_0x583390[_0x2f1b28(0x128)],0x0);_0x238bdd={'server':helper[_0x2f1b28(0x11e)](_0xcac712[_0x2f1b28(0x12c)]),'proxySettings':_0xcac712[_0x2f1b28(0x12c)]['proxySettings']};const _0x4074f6={'capability':_0x50bf86,..._0x238bdd};_0x4074f6[_0x2f1b28(0x10f)]=_0x44894c,_0x4074f6[_0x2f1b28(0x126)]=_0x476173;const _0x10e779={};_0x10e779[_0x2f1b28(0x136)]=_0x4074f6,_0x158a91=_0x10e779,_0xcd6dcc[_0x2f1b28(0x10a)](_0x158a91);}const _0x151005=await TestHubHandler['launchBuild'](_0x583390[_0x2f1b28(0x128)],_0xcac712),_0x9bb086=_0x583390[_0x2f1b28(0x10c)](_0xcac712[_0x2f1b28(0x12c)][_0x2f1b28(0x111)][_0x2f1b28(0x107)]||0x1,_0xcac712[_0x2f1b28(0x12c)][_0x2f1b28(0x116)]||0x1);helper[_0x2f1b28(0x120)](),_0x583390[_0x2f1b28(0x131)](parallelVanillaRun,_0xcd6dcc,_0x9bb086)[_0x2f1b28(0x125)](_0x974048=>{})[_0x2f1b28(0x12d)](async()=>{const _0x1e0961=_0x2f1b28;await utilities[_0x1e0961(0x12e)](_0xcac712);});}module[a53_0x572d37(0x138)]=run;